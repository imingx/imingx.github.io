<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ã€ŒAlgorithmã€02 Data Structure | Ming Blog</title>
<meta name="keywords" content="Algorithm">
<meta name="description" content="
é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨
æ ˆä¸é˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ
kmp
Trie
å¹¶æŸ¥é›†
å †
Hashè¡¨

é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨
ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æ„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆç‡


1
2
3
4
5
6
7


struct Node
{
		int val;
		Node * next;
};

Node * p = new Node();


é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚
ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨
æœ€å¸¸ç”¨çš„é‚»æ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æ¥è¡¨å­˜å‚¨çš„ã€‚


ä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70


#include&lt;iostream&gt;

using namespace std; 

const int N = 1e5 &#43; 10;

// head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡
// e[i]æ˜¯èŠ‚ç‚¹içš„å€¼
// ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ
// idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚
int head, e[N], ne[N], idx;

void init()
{
    head = -1;
    idx = 0;    
}

//å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹
void add_to_head(int x)
{
    e[idx] = x, ne[idx] = head, head = idx, idx &#43;&#43;;
}

//å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åé¢
void add(int k, int x)
{
    e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx &#43;&#43;;   
}

//åˆ é™¤kåé¢çš„èŠ‚ç‚¹
void remove(int k)
{
    ne[k] = ne[ne[k]];
}

int main()
{
    int m;
    cin &gt;&gt; m;
    
    init();
    while ( m --)
    {
        int k, x;
        char op;
        
        cin &gt;&gt; op;
        if (op == &#39;H&#39;)
        {
            cin &gt;&gt; x;
            add_to_head(x);
        }
        else if( op ==  &#39;D&#39;)
        {
            cin &gt;&gt; k;
            if (k == 0) head = ne[head];
            else remove(k - 1);
        }else {
            cin &gt;&gt; k &gt;&gt; x;
            add(k - 1, x);
        }
    }
    
    for (int i = head; i != -1; i = ne[i])
        cout &lt;&lt; e[i] &lt;&lt; &#34; &#34;;
    
 
    return 0;   
}


ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨
ç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚">
<meta name="author" content="">
<link rel="canonical" href="https://imingx.github.io/posts/algorithm_02/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://imingx.github.io/images/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://imingx.github.io/images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://imingx.github.io/images/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://imingx.github.io/images/apple-touch-icon.png">
<link rel="mask-icon" href="https://imingx.github.io/images/favicon.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://imingx.github.io/posts/algorithm_02/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="ã€ŒAlgorithmã€02 Data Structure" />
<meta property="og:description" content="
é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨
æ ˆä¸é˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ
kmp
Trie
å¹¶æŸ¥é›†
å †
Hashè¡¨

é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨
ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æ„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆç‡


1
2
3
4
5
6
7


struct Node
{
		int val;
		Node * next;
};

Node * p = new Node();


é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚
ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨
æœ€å¸¸ç”¨çš„é‚»æ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æ¥è¡¨å­˜å‚¨çš„ã€‚


ä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70


#include&lt;iostream&gt;

using namespace std; 

const int N = 1e5 &#43; 10;

// head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡
// e[i]æ˜¯èŠ‚ç‚¹içš„å€¼
// ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ
// idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚
int head, e[N], ne[N], idx;

void init()
{
    head = -1;
    idx = 0;    
}

//å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹
void add_to_head(int x)
{
    e[idx] = x, ne[idx] = head, head = idx, idx &#43;&#43;;
}

//å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åé¢
void add(int k, int x)
{
    e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx &#43;&#43;;   
}

//åˆ é™¤kåé¢çš„èŠ‚ç‚¹
void remove(int k)
{
    ne[k] = ne[ne[k]];
}

int main()
{
    int m;
    cin &gt;&gt; m;
    
    init();
    while ( m --)
    {
        int k, x;
        char op;
        
        cin &gt;&gt; op;
        if (op == &#39;H&#39;)
        {
            cin &gt;&gt; x;
            add_to_head(x);
        }
        else if( op ==  &#39;D&#39;)
        {
            cin &gt;&gt; k;
            if (k == 0) head = ne[head];
            else remove(k - 1);
        }else {
            cin &gt;&gt; k &gt;&gt; x;
            add(k - 1, x);
        }
    }
    
    for (int i = head; i != -1; i = ne[i])
        cout &lt;&lt; e[i] &lt;&lt; &#34; &#34;;
    
 
    return 0;   
}


ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨
ç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://imingx.github.io/posts/algorithm_02/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-12T00:30:02+08:00" />
<meta property="article:modified_time" content="2021-10-12T00:30:02+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ã€ŒAlgorithmã€02 Data Structure"/>
<meta name="twitter:description" content="
é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨
æ ˆä¸é˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ
kmp
Trie
å¹¶æŸ¥é›†
å †
Hashè¡¨

é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨
ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æ„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆç‡


1
2
3
4
5
6
7


struct Node
{
		int val;
		Node * next;
};

Node * p = new Node();


é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚
ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨
æœ€å¸¸ç”¨çš„é‚»æ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æ¥è¡¨å­˜å‚¨çš„ã€‚


ä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70


#include&lt;iostream&gt;

using namespace std; 

const int N = 1e5 &#43; 10;

// head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡
// e[i]æ˜¯èŠ‚ç‚¹içš„å€¼
// ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ
// idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚
int head, e[N], ne[N], idx;

void init()
{
    head = -1;
    idx = 0;    
}

//å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹
void add_to_head(int x)
{
    e[idx] = x, ne[idx] = head, head = idx, idx &#43;&#43;;
}

//å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åé¢
void add(int k, int x)
{
    e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx &#43;&#43;;   
}

//åˆ é™¤kåé¢çš„èŠ‚ç‚¹
void remove(int k)
{
    ne[k] = ne[ne[k]];
}

int main()
{
    int m;
    cin &gt;&gt; m;
    
    init();
    while ( m --)
    {
        int k, x;
        char op;
        
        cin &gt;&gt; op;
        if (op == &#39;H&#39;)
        {
            cin &gt;&gt; x;
            add_to_head(x);
        }
        else if( op ==  &#39;D&#39;)
        {
            cin &gt;&gt; k;
            if (k == 0) head = ne[head];
            else remove(k - 1);
        }else {
            cin &gt;&gt; k &gt;&gt; x;
            add(k - 1, x);
        }
    }
    
    for (int i = head; i != -1; i = ne[i])
        cout &lt;&lt; e[i] &lt;&lt; &#34; &#34;;
    
 
    return 0;   
}


ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨
ç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://imingx.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ã€ŒAlgorithmã€02 Data Structure",
      "item": "https://imingx.github.io/posts/algorithm_02/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ã€ŒAlgorithmã€02 Data Structure",
  "name": "ã€ŒAlgorithmã€02 Data Structure",
  "description": " é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨ æ ˆä¸é˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ kmp Trie å¹¶æŸ¥é›† å † Hashè¡¨ é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨ ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æ„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆç‡\n1 2 3 4 5 6 7 struct Node { int val; Node * next; }; Node * p = new Node(); é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚\nç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨ æœ€å¸¸ç”¨çš„é‚»æ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æ¥è¡¨å­˜å‚¨çš„ã€‚\nä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 #include\u0026lt;iostream\u0026gt; using namespace std; const int N = 1e5 + 10; // head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡ // e[i]æ˜¯èŠ‚ç‚¹içš„å€¼ // ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ // idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚ int head, e[N], ne[N], idx; void init() { head = -1; idx = 0; } //å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹ void add_to_head(int x) { e[idx] = x, ne[idx] = head, head = idx, idx ++; } //å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åé¢ void add(int k, int x) { e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx ++; } //åˆ é™¤kåé¢çš„èŠ‚ç‚¹ void remove(int k) { ne[k] = ne[ne[k]]; } int main() { int m; cin \u0026gt;\u0026gt; m; init(); while ( m --) { int k, x; char op; cin \u0026gt;\u0026gt; op; if (op == \u0026#39;H\u0026#39;) { cin \u0026gt;\u0026gt; x; add_to_head(x); } else if( op == \u0026#39;D\u0026#39;) { cin \u0026gt;\u0026gt; k; if (k == 0) head = ne[head]; else remove(k - 1); }else { cin \u0026gt;\u0026gt; k \u0026gt;\u0026gt; x; add(k - 1, x); } } for (int i = head; i != -1; i = ne[i]) cout \u0026lt;\u0026lt; e[i] \u0026lt;\u0026lt; \u0026#34; \u0026#34;; return 0; } ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨ ç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚\n",
  "keywords": [
    "Algorithm"
  ],
  "articleBody": " é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨ æ ˆä¸é˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ kmp Trie å¹¶æŸ¥é›† å † Hashè¡¨ é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨ ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æ„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆç‡\n1 2 3 4 5 6 7 struct Node { int val; Node * next; }; Node * p = new Node(); é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚\nç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨ æœ€å¸¸ç”¨çš„é‚»æ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æ¥è¡¨å­˜å‚¨çš„ã€‚\nä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 #include using namespace std; const int N = 1e5 + 10; // head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡ // e[i]æ˜¯èŠ‚ç‚¹içš„å€¼ // ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ // idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚ int head, e[N], ne[N], idx; void init() { head = -1; idx = 0; } //å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹ void add_to_head(int x) { e[idx] = x, ne[idx] = head, head = idx, idx ++; } //å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åé¢ void add(int k, int x) { e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx ++; } //åˆ é™¤kåé¢çš„èŠ‚ç‚¹ void remove(int k) { ne[k] = ne[ne[k]]; } int main() { int m; cin \u003e\u003e m; init(); while ( m --) { int k, x; char op; cin \u003e\u003e op; if (op == 'H') { cin \u003e\u003e x; add_to_head(x); } else if( op == 'D') { cin \u003e\u003e k; if (k == 0) head = ne[head]; else remove(k - 1); }else { cin \u003e\u003e k \u003e\u003e x; add(k - 1, x); } } for (int i = head; i != -1; i = ne[i]) cout \u003c\u003c e[i] \u003c\u003c \" \"; return 0; } ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨ ç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚\nint l[N], r[N];ï¼Œè®©0æ˜¯headï¼Œ1æ˜¯tail\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 #include using namespace std; const int N = 100010; int m; int e[N], l[N], r[N], idx; void init() { //0è¡¨ç¤ºå·¦ç«¯ç‚¹ï¼Œ1è¡¨ç¤ºå³ç«¯ç‚¹ r[0] = 1; l[1] = 0; idx = 2; } void add(int k, int x) { //åœ¨kçš„å³è¾¹æ’å…¥x e[idx] = x; r[idx] = r[k]; l[idx] = k; l[r[k]] = idx; r[k] = idx; idx ++; //å¦‚æœæƒ³æ’å…¥å·¦è¾¹ï¼Œåªè¦add(l[k], x) } void remove(int k) { r[l[k]] = r[k]; l[r[k]] = l[k]; } int main() { cin \u003e\u003e m; } é‚»æ¥è¡¨ï¼Œå°±æ˜¯nä¸ªå•é“¾è¡¨.\næ ˆä¸é˜Ÿåˆ— æ ˆå°±æ˜¯å…ˆè¿›åå‡ºã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 #include using namespace std; const int N = 100010; int stk[N], tt; int main() { åˆå§‹åŒ– //tt = -1; å…¥æ ˆ //stk[ ++ tt] = x; å‡ºæ ˆ // return stk[tt --]; ç©º //if (tt \u003e= 0) return true; //else return false; æ ˆé¡¶ //stk[tt]; } å®é™…ä¸Šï¼Œä»¤tt = 0åˆå§‹åŒ–ï¼Œæ›´ç®€æ´ã€‚ åˆ¤ç©ºæ—¶ï¼Œåªè¦ if (tt \u003e 0) return true; // if(tt) return true; else return false; é˜Ÿåˆ—ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 int q[N], hh = 0, tt = -1; //hhæ˜¯é˜Ÿå¤´ï¼Œ ttæ˜¯é˜Ÿå°¾ã€‚é˜Ÿå°¾æ’å…¥ï¼Œé˜Ÿå¤´å¼¹å‡º //æ’å…¥ q[ ++ tt] = x; //å¼¹å‡ºï¼š return q[hh ++]; if( hh \u003c= tt) not empty; else empty; å–å‡ºé˜Ÿå¤´é˜Ÿå°¾å…ƒç´ ï¼š return q[hh]; return q[tt]; è€ƒéªŒè®°å¿†åŠ›å’Œæ¯…åŠ›ï¼ˆè‡ªåˆ¶åŠ›ï¼‰ã€‚\nå•è°ƒæ ˆï¼š ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œæ±‚åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œç¦»ä»–æœ€è¿‘çš„å·¦è¾¹æ¯”ä»–å°çš„æ•°ã€‚å¦åˆ™ä¸º-1ã€‚\næˆ‘ä»¬è®¾ç½®ä¸€ä¸ªæ ˆï¼Œå¯¹äºæ¯ä¸ªxï¼Œä¹‹å‰çš„å…ƒç´ ï¼Œåº”è¯¥è®©stk[tt] â‰¥ xçš„éƒ½å‡ºæ ˆã€‚\nè¿™æ ·xå†å…¥æ ˆï¼Œå°±æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„æ ˆåºåˆ—ã€‚è€Œæ‰¾åˆ°æœ€å°çš„ï¼Œåªè¦æ‰¾åˆ°xå…¥æ ˆå‰çš„æ ˆé¡¶å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 #include using namespace std; const int N = 1e5 + 10; int n; int stk[N], tt; int main() { cin \u003e\u003e n; for(int i = 0; i \u003c n; ++ i) { int x; cin \u003e\u003e x; while(tt \u0026\u0026 stk[tt] \u003e= x) tt --; if (tt) cout \u003c\u003c stk[tt] \u003c\u003c \" \"; else cout \u003c\u003c -1 \u003c\u003c \" \"; stk[++tt] = x; } return 0; } //è¿™ä¸ªç®—æ³•ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆä¸€æ¬¡ï¼Œæ‰€ä»¥å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰ å•è°ƒé˜Ÿåˆ— https://www.acwing.com/problem/content/156/æ»‘åŠ¨çª—å£\nä¸€ä¸ªåºåˆ—ï¼Œåœ¨ä¸€ä¸ªçª—å£å†…ï¼Œç®—å‡ºå…¶æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œçª—å£é€æ¸å‘å³ç§»åŠ¨ã€‚\nåœ¨ä¸€ä¸ªçª—å£å†…ï¼Œå¦‚æœå³è¾¹çš„å…ƒç´ æ¯”å·¦è¾¹çš„å…ƒç´ å°ï¼Œ\né¦–å…ˆè€ƒè™‘æš´åŠ›æ€ä¹ˆåšã€‚ ç„¶åè€ƒè™‘åœ¨çª—å£ç§»åŠ¨çš„æ—¶å€™ï¼Œæ€æ ·åˆ é™¤ä¸€äº›æ— ç”¨çš„å…ƒç´ ã€‚ å¦‚æœä¸å¼€O2ä¼˜åŒ–ï¼Œé‚£ä¹ˆæ•°ç»„æ¯”STLå¿«ä¸€äº›ã€‚\nO3ä¼˜åŒ–\n1 #pragma GCC optimize(2) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 #include using namespace std; const int N = 1e6 + 10; int a[N], q[N]; //qæ˜¯ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—ï¼Œaåªæ˜¯è®°å½•çš„å€¼a[q[i]]æ˜¯å–ä¸‹æ ‡çš„å€¼ã€‚ int n, k; int main() { cin \u003e\u003e n \u003e\u003e k; for(int i = 0; i \u003c n; ++ i) { scanf(\"%d\", \u0026a[i]); } int hh = 0, tt = -1; for(int i = 0; i \u003c n; i ++) { //åˆ¤æ–­é˜Ÿå¤´æ˜¯å¦å·²ç»å‡ºçª—å£ if (hh \u003c= tt \u0026\u0026 i - k + 1 \u003e q[hh]) { ++ hh; } //å½¢æˆä¸€ä¸ªå•è°ƒé€’å¢çš„åºåˆ—ã€‚ while(hh \u003c= tt \u0026\u0026 a[q[tt]] \u003e= a[i]) tt --; q[++tt] = i; if (i \u003e= k - 1) printf(\"%d \", a[q[hh]]); } puts(\"\"); hh = 0, tt = -1; for(int i = 0; i \u003c n; ++ i) { if( hh \u003c= tt \u0026\u0026 i - q[hh] + 1 \u003e k) ++ hh; while( hh \u003c= tt \u0026\u0026 a[q[tt]] \u003c= a[i]) tt --; q[++tt] = i; if (i \u003e= k - 1) printf(\"%d \", a[q[hh]]); } } KMP æš´åŠ›ç®—æ³•æ€ä¹ˆåšï¼Ÿ å¦‚ä½•å»ä¼˜åŒ–ã€‚ æœ´ç´ ç®—æ³•ï¼š\nS[N]â†’ p[M] for(int i = 1; i â‰¤ n; ++i)\nbool flag = true;\nint t = i;\nfor(int j = 1; j â‰¤ m; j++, t++)\nif (s[t] â‰  p[j])\n{\nflag = false;\nbreak;\n}\nKMPè§£é‡Šï¼ˆä»¥1å¼€å§‹ï¼‰\nnextæ•°ç»„è¡¨ç¤ºï¼Œnext[i] = jï¼Œè¡¨ç¤ºp[1, j] = p[ i - j + 1, i]\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 #include #include using namespace std; const int N = 100010, M = 1000010; int n, m; char p[N], s[M]; int ne[N]; int main() { cin \u003e\u003e n \u003e\u003e p + 1 \u003e\u003e m \u003e\u003e s + 1; //index from 1 // æ±‚Next for(int i = 2, j = 0; i \u003c= n; ++ i) { //æ¯æ¬¡éƒ½æ¯”è¾ƒ j+1ä¸iï¼Œåˆ°æœ€åä¹‹å‰ï¼Œå¯ä»¥ä¿è¯1-jå·²ç»æ˜¯åŒ¹é…çš„ã€‚é™¤éj = 0 while(j \u0026\u0026 p[i] != p[ j + 1]) j = ne[j]; if(p[i] == p[j+1]) j++; ne[i] = j; //å‰jä¸ªï¼ˆ1-jï¼‰çš„å…ƒç´ ä¸[i-j +1, i]çš„å…ƒç´ åŒ¹é…ï¼Œæ‰€ä»¥ne[i] = j } for(int i = 1, j = 0; i \u003c=m ; ++ i) { while(j \u0026\u0026 s[i] != p[ j + 1]) j = ne[j]; if( s[i] == p[j+1]) j++; if(j == n)//å‰nä¸ªå…ƒç´ å·²ç»åŒ¹é… { //åŒ¹é…æˆåŠŸ printf(\"%d \", i - n ); j = ne[j]; } } return 0; } Trieæ ‘ é«˜æ•ˆåœ°å­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œé›†åˆçš„æ•°æ®ç»“æ„\næ¯”å¦‚ï¼š\nabcdef abdef aced bcdf bcff cdaa dcdc\nå½“æ•°é‡è¿‡å¤§ï¼Œå¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºã€‚æ¯”å¦‚è€ƒè™‘æ±‰å­—ï¼Œç›´æ¥æ‰¾å…¶äºŒè¿›åˆ¶100000101010,æ¯ä¸€æ­¥ä»…è€ƒè™‘1å’Œ0.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 #include #include using namespace std; const int N = 100010; int son[N][26], cnt[N], idx; //ä¸‹æ ‡æ˜¯0çš„ç‚¹ï¼Œæ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹ char str[N]; void insert(char str[]) { int p = 0; for(int i = 0; str[i]; ++i){ int u = str[i] - 'a'; if (!son[p][u]) son[p][u] = ++ idx; p = son[p][u]; } cnt[p] ++; } int query(char str[]) { int p = 0; for(int i = 0; str[i]; ++i) { int u = str[i] - 'a'; if(!son[p][u]) return 0; p = son[p][u]; } return cnt[p]; } int main() { int n; cin \u003e\u003e n; while(n--) { char op[2]; cin \u003e\u003e op \u003e\u003e str; if (op[0] == 'I') insert(str); else cout \u003c\u003c query(str) \u003c\u003c endl; } return 0; } å¹¶æŸ¥é›† é¢è¯•å’Œæ¯”èµ›ï¼Œéå¸¸å®¹æ˜“å‡ºçš„æ•°æ®ç»“æ„ã€‚\nç”¨æ¥å¿«é€Ÿçš„å¤„ç†ï¼š\nå°†ä¸¤ä¸ªé›†åˆåˆå¹¶ è¯¢é—®ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆå½“ä¸­ belong[x] = aï¼Œå­˜å‚¨xå±äºé›†åˆaã€‚\nè¿‘ä¹Oï¼ˆ1ï¼‰çš„æ”¯æŒä¸Šé¢çš„ä¸¤ä¸ªæ“ä½œã€‚\nåŸºæœ¬åŸç†ï¼šæ¯ä¸ªé›†åˆç”¨ä¸€æ£µæ ‘æ¥è¡¨ç¤ºï¼Œæ ‘æ ¹çš„ç¼–å·å°±æ˜¯æ•´ä¸ªé›†åˆçš„ç¼–å·ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œp[x] è¡¨ç¤ºçˆ¶èŠ‚ç‚¹ã€‚\né—®é¢˜1ï¼š å¦‚ä½•åˆ¤æ–­æ ‘æ ¹ p[x] == x, xå°±æ˜¯é›†åˆçš„ç¼–å· é—®é¢˜2ï¼šå¦‚ä½•æ±‚xçš„é›†åˆç¼–å·ï¼Œwhile(p[x] ! = x) x = p[x] é—®é¢˜3ï¼šå¦‚ä½•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼šå‡è®¾pxæ˜¯xçš„é›†åˆçš„ç¼–å·ï¼Œpyæ˜¯yçš„é›†åˆçš„ç¼–å·ï¼Œé‚£ä¹ˆp[x] = y; å¹¶æŸ¥é›†çš„ä¼˜åŒ–ï¼š\nï¼ˆè·¯å¾„å‹ç¼©ï¼‰, æ¯æ¬¡æŸ¥è¯¢å…¶çˆ¶èŠ‚ç‚¹ï¼Œåªè¦ç›´æ¥æŒ‡å‘å…¶ç¥–å®—èŠ‚ç‚¹ã€‚ åˆå¹¶é›†åˆ\nhttps://www.acwing.com/problem/content/838/\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 #include #include using namespace std; const int N = 1e5 + 10; int p[N]; int n, m; int find(int x) //è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„å‹ç¼© { if(p[x] != x) p[x] = find(p[x]); return p[x]; } int main() { cin \u003e\u003e n \u003e\u003e m; for(int i = 1; i \u003c=n ; ++ i) p[i] = i; while(m --) { char op[2]; //å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›è½¦ int a, b; cin \u003e\u003e op \u003e\u003e a \u003e\u003e b; if(op[0] == 'M') p[find(a)] = find(b); else { if(find(a) == find(b)) puts(\"Yes\"); else puts(\"No\"); } } } è¿é€šå—ä¸­ç‚¹çš„æ•°é‡https://www.acwing.com/problem/content/839/\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 #include #include using namespace std; const int N = 1e5 + 10; //å¦‚ä½•æŸ¥è¯¢æ¯ä¸ªè”é€šå—çš„æ•°é‡ï¼Ÿç»´æŠ¤æ ¹èŠ‚ç‚¹çš„sizeå³å¯ã€‚ int p[N], siz[N]; int n, m; int find(int x) //è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„å‹ç¼© { if(p[x] != x) p[x] = find(p[x]); return p[x]; } int main() { cin \u003e\u003e n \u003e\u003e m; for(int i = 1; i \u003c=n ; ++ i) { p[i] = i; siz[i] = 1; } while(m --) { char op[5]; //å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›è½¦ int a, b; cin \u003e\u003e op; if(op[0] == 'C') { cin \u003e\u003e a \u003e\u003e b; if(find(a) != find(b)) siz[find(b)] += siz[find(a)]; p[find(a)] = find(b); } else if (op[1] == '1') { cin \u003e\u003e a \u003e\u003e b; if(find(a) == find(b)) puts(\"Yes\"); else puts(\"No\"); } else { cin \u003e\u003e a; cout \u003c\u003c siz[find(a)] \u003c\u003c endl; } } } å † å¦‚ä½•æ‰‹å†™ä¸€ä¸ªå †ï¼Ÿ\næ’å…¥ä¸€ä¸ªæ•° æ±‚é›†åˆå½“ä¸­çš„æœ€å°å€¼ åˆ é™¤æœ€å°å€¼ åˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´  ä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´  å †çš„åŸºæœ¬ç»“æ„ï¼š\næ˜¯ä¸€æ£µäºŒå‰æ ‘ã€‚æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚\nä»¥å°é¡¶å †ä¸ºä¾‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹éƒ½å¤§äºè¯¥èŠ‚ç‚¹çš„å€¼ã€‚\nä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å­˜æ”¾å †ã€‚\n1å·ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œxçš„å·¦å„¿å­æ˜¯2xï¼Œå³å­èŠ‚ç‚¹æ˜¯2x+1ã€‚\næ“ä½œï¼š\ndown(x)ï¼Œå¾€ä¸‹è°ƒæ•´xã€‚æ¯æ¬¡æ‰¾è¿™ä¸ªèŠ‚ç‚¹å’Œä¸¤ä¸ªå­èŠ‚ç‚¹çš„æœ€å°å€¼ï¼Œç„¶åäº¤æ¢å³å¯ã€‚ up(x)ï¼Œå¾€ä¸Šè°ƒæ•´xã€‚æ¯æ¬¡å¾€ä¸Šå’Œçˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œéœ€è¦äº¤æ¢æ—¶äº¤æ¢å³å¯ã€‚ æ€ä¹ˆæ’å…¥xï¼Ÿ\nheap[ ++ idx] = x; up(x); æœ€å°å€¼ï¼š\nheap[1] åˆ é™¤æœ€å°å€¼ï¼š\nheap[1] = heap[idx]; idxâ€”; down(1); åˆ é™¤ä»»æ„å…ƒç´ \nheap[k] = heap[size], sizeâ€”; down(k); up(k); ä¿®æ”¹å…ƒç´ ï¼š\nheap[k] = x; down(k); up(k); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 #include #include using namespace std; const int N = 100010; int n, m; int h[N], idx; void down(int u) { int t = u; if (u * 2 \u003c= idx \u0026\u0026 h[u * 2] \u003c h[t]) t = u * 2; if (u * 2 + 1 \u003c= idx \u0026\u0026 h[u*2 +1] \u003c h[t]) t = u*2 + 1; if(u!=t){ swap(h[u], h[t]); down(t); } } void up(int u) { while( u / 2 \u0026\u0026 h[ u/2 ] \u003e h[u]) { swap(h[u/2], h[u]); u/=2; } } int main() { cin \u003e\u003e n \u003e\u003e m; for(int i = 1; i \u003c= n; ++ i) scanf(\"%d\", \u0026h[i]); idx = n; for(int i = n/2; i ; -- i) down(i); /*è¿™æ˜¯å»ºç«‹å †çš„è¿‡ç¨‹ ä¸ºä»€ä¹ˆä»n/2å¼€å§‹downï¼Ÿ n/2çš„å­å­©å­æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯å®Œå…¨äºŒå‰æ ‘çš„å€’æ•°ç¬¬äºŒå±‚ï¼Œæ‰€ä»¥è¿™æ ·ä¸€ç›´é€’å½’ çš„åšå°±å¥½ï¼Œè€Œä¸”æ—¶é—´å¤æ‚åº¦æ˜¯O(n); */ while(m--) { printf(\"%d \", h[1]); h[1] = h[idx]; idx --; down(1); } return 0; } å¸¦æ˜ å°„ç‰ˆçš„å †æ“ä½œ:\nhttps://www.acwing.com/problem/content/841/\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 #include #include #include using namespace std; const int N = 100010; int n; int h[N], ph[N], hp[N], idx; //phå­˜æ”¾æ’å…¥çš„ç¬¬kä¸ªå…ƒç´ åœ¨å †çš„ä¸‹æ ‡ä½ç½® //hpå­˜æ”¾çš„æ˜¯å †ä¸­ç¬¬jä¸ªå…ƒç´ åœ¨phæ•°ç»„çš„ä½ç½®ç´¢å¼•ã€‚ //phå’Œhpæ˜¯äº’ä¸ºåå‡½æ•°ã€‚ void heap_swap(int a, int b) { swap(ph[hp[a]], ph[hp[b]]); swap(hp[a], hp[b]); swap(h[a], h[b]); } void down(int u) { int t = u; if (u * 2 \u003c= idx \u0026\u0026 h[u * 2] \u003c h[t]) t = u * 2; if (u * 2 + 1 \u003c= idx \u0026\u0026 h[u*2 +1] \u003c h[t]) t = u*2 + 1; if(u!=t){ heap_swap(u, t); down(t); } } void up(int u) { while( u / 2 \u0026\u0026 h[ u/2 ] \u003e h[u]) { heap_swap(u/2, u); u/=2; } } int main() { cin \u003e\u003e n; int m = 0; //mæ˜¯ç¬¬mä¸ªæ’å…¥çš„å…ƒç´ ã€‚ while(n --) { char op[10]; int k, x; cin \u003e\u003e op; if (!strcmp(op, \"I\")) { cin \u003e\u003e x; idx ++; m ++; ph[m] = idx; hp[idx] = m; h[idx] = x; up(idx); } else if (!strcmp(op, \"PM\")) cout \u003c\u003c h[1] \u003c\u003c endl; else if (!strcmp(op, \"DM\")) { heap_swap(1, idx); idx --; down(1); } else if(!strcmp(op, \"D\")) { cin \u003e\u003e k; k = ph[k]; heap_swap(k, idx); idx --; down(k), up(k); } else { cin \u003e\u003e k \u003e\u003e x; k = ph[k]; h[k] = x; down(k), up(k); } } return 0; } find()å’Œcnt()å¯ä»¥æ”¹æˆï¼Œget()å’Œcnt()ä¿è¯ä¸ç¼–è¯‘é”™è¯¯ï¼Œcompile ERRORã€‚\nHashè¡¨ å“ˆå¸Œè¡¨çš„å­˜å‚¨ç»“æ„ï¼Œè®¤ä¸ºæ˜¯O(1). å¦‚æœè¦åˆ é™¤ï¼Œåªè¦å¼€ä¸ªæ•°ç»„æ ‡è®°ä¸€ä¸‹ã€‚\nå¼€æ”¾å¯»å€æ³•\næ‹‰é“¾æ³•\nå¸¸è§æƒ…æ™¯ï¼š æŠŠ0-10^9çš„æ•°æ˜ å°„åˆ°0-10^5çš„æ•°ç»„ã€‚\nx mod 10 ^ 5 é™„è¿‘çš„è´¨æ•°ã€‚ç„¶åå¤„ç†å†²çªã€‚100003.\nå’Œç¦»æ•£åŒ–æ¯”è¾ƒï¼Œç¦»æ•£æ˜¯éœ€è¦ä¿åºçš„ã€‚\nå¸¸ç”¨çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œæ–¹å¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 //æ‹‰é“¾æ³• #include #include//æœ‰memset using namespace std; const int N = 100003; //å–å¤§äº10ä¸‡çš„æœ€å°çš„è´¨æ•°ã€‚ int h[N], e[N], ne[N], idx; void insert(int x) { int k = (x % N + N) % N; //å› ä¸ºæœ‰çš„æ•°æ˜¯è´Ÿæ•°ã€‚ e[idx] = x; //eå­˜å€¼ ne[idx] = h[k]; //neå­˜æŒ‡é’ˆ h[k] = idx; idx ++; //æ’å…¥å¤´éƒ¨ã€‚ } bool find(int x) { int k = (x % N + N) % N; for(int i = h[k]; i != -1; i = ne[i]) { if(e[i] == x) return true; } return false; } int main(){ int n; memset(h, -1, sizeof h); cin \u003e\u003e n; while(n --) { char op[2]; int x; cin \u003e\u003e op \u003e\u003e x; if(op[0] == 'I') insert(x); else { if (find(x)) puts(\"Yes\"); else puts(\"No\"); } } return 0; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 //å¼€æ”¾å¯»å€æ³• #include #include using namespace std; //0xf3f3f3f3æ˜¯10^9çº§åˆ«ï¼Œå¾ˆå¤§ï¼Œç”¨æ¥åˆå§‹åŒ–æ•°ç»„ const int N = 2e5 + 3, null = 0x3f3f3f3f; //ä¸€èˆ¬å–ä¸‰å€ã€‚ //å–è´¨æ•°ã€‚ int h[N]; int find(int x) { int k = (x % N + N) % N; while(h[k] != null \u0026\u0026 h[k] != x) { k ++; if(k == N) k = 0; } //è¿™ä¸ªè¿‡ç¨‹ä¸€å®šä¼šåœæ­¢çš„ï¼Œå› ä¸ºæ€»å…±åªæœ‰1e5ä¸ªæ•°å­—ï¼Œè€ŒNæ˜¯äºŒå€ï¼Œæ‰€ä»¥ä¸æ‹…å¿ƒæ»¡; //ç»“æŸæ¡ä»¶æ—¶ï¼Œh[k] == null æˆ– h[k] == x return k; } int main(){ int n; cin \u003e\u003e n; memset(h, 0x3f, sizeof h); while(n --) { char op[2]; int x; cin \u003e\u003e op \u003e\u003e x; int k = find(x); if (op[0] == 'I') { h[k] = x; } else { if (h[k] != null) puts(\"Yes\"); else puts(\"No\"); } } return 0; } å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•ã€‚\nstr = â€œABCDEFâ€ h[1] = â€œAâ€ // å‰1ä¸ª h[2] = â€œABâ€\nå³å¤„ç†å‰ç¼€çš„hashï¼Œh[0] = 0\nå¦‚æœå¯¹å­—ç¬¦ä¸²è¿›è¡Œå“ˆå¸Œï¼Ÿå½“æˆpè¿›åˆ¶æ•°ï¼Œa * p ^ 3 + b * p * 2 â€¦â€¦;å†å–æ¨¡Qã€‚\nä¸èƒ½æŠŠå­—æ¯æ˜ å°„æˆ0.\né‚£ä¹ˆå‰ç¼€å“ˆå¸Œå€¼æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“ h[L]åˆ°h[R]çš„å“ˆå¸Œå€¼\næ‰€ä»¥æ±‚L - Rçš„å“ˆå¸Œå€¼ï¼Œåªè¦ h[R] - h[L - 1] * p ^ {R-L+1};\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 #include #include using namespace std; typedef unsigned long long ULL; const int N = 100010, P = 131; int n, m; char str[N]; ULL h[N], p[N]; //pæ˜¯å­˜æ”¾Pçš„næ¬¡æ–¹ ULL get(int l, int r) { return h[r] - h[l - 1] * p[r - l + 1]; } int main(){ cin \u003e\u003e n \u003e\u003e m \u003e\u003e str + 1; p[0] = 1; for(int i = 1; i \u003c= n; ++ i) { p[i] = p[i - 1] * P; h[i] = h[i - 1] * P + str[i]; } while( m --) { int l1, r1, l2, r2; cin \u003e\u003e l1 \u003e\u003e r1 \u003e\u003e l2 \u003e\u003e r2; if(get(l1, r1) == get(l2, r2)) { puts(\"Yes\"); } else { puts(\"No\"); } } return 0; } hashç®—æ³•æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒæ¯”KMPæ›´å¥½\nKMPæ›´é€‚åˆå¾ªç¯èŠ‚ã€‚\nC++STLä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 vector å¯å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³ string å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨ï¼Œsubstr(), c_str() queue, é˜Ÿåˆ—ï¼Œè¿›è¡Œpush(),front(), pop() priority_queueï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †ï¼Œpush(), top(), pop() stack æ ˆï¼ŒPush(), top(), pop() deque åŒç«¯é˜Ÿåˆ— set, map, multiset, multimap åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰åŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ— unordered_set, unordered_map, unordered_multiset, unordered_multimap å“ˆå¸Œè¡¨ bitset;å‹ä½ listç”¨çš„ä¸å¤šã€‚ vector: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 #include #include #include #include #include using namespace std; int main() { vector\u003cint\u003e a(10, 3); vector\u003cint\u003e b[10]; //å®šä¹‰æ•°ç»„ //å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º10çš„ï¼Œåˆå§‹å€¼ä¸º3çš„vector //for(auto x : a) cout \u003c\u003c x \u003c\u003c endl; a.size(); //O(1) a.empty(); a.clear();//æ¸…ç©º /*ç³»ç»Ÿåˆ†é…ç©ºé—´æ—¶ï¼Œæ‰€éœ€æ—¶é—´ä¸ç©ºé—´å¤§å°æ— å…³ï¼Œä¸ç”³è¯·æ¬¡æ•°æœ‰å…³ï¼ï¼ï¼ æ‰€ä»¥å°½é‡å‡å°‘ç”³è¯·ç©ºé—´çš„æ¬¡æ•°ã€‚ vectoræœ€åˆåˆ†é…32çš„ç©ºé—´ï¼Œç„¶åå¦‚æœä¸å¤Ÿï¼Œåˆ†é…64ï¼Œç„¶åcopyè¿‡å»ä¹‹å‰çš„å…ƒç´ ã€‚ ç”³è¯·é•¿åº¦ä¸º2 ^ nçš„æ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦copy(1 + 2 + 2^n-1) = 2^nå¯ä»¥è®¤ä¸ºæ˜¯O(1) ç”³è¯·ç©ºé—´çš„æ¬¡æ•°æ˜¯log(2^n) = n */ a.front(); a.back(); a.push_back(); a.pop_back(); begin(); end(); []; a \u003c bå¯ä»¥åˆ¤æ–­ä¸¤ä¸ªvectorçš„å¤§å°ï¼ŒæŒ‰å­—å…¸åºæ¯”ã€‚ return 0; } ä¸‹é¢æ˜¯æ¨¡æ¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 C++ STLç®€ä»‹ vector, å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³ size() è¿”å›å…ƒç´ ä¸ªæ•° empty() è¿”å›æ˜¯å¦ä¸ºç©º clear() æ¸…ç©º front()/back() push_back()/pop_back() begin()/end() [] æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº pair\u003cint, int\u003ep; first, ç¬¬ä¸€ä¸ªå…ƒç´  second, ç¬¬äºŒä¸ªå…ƒç´  æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰ p = make_pair(10, 2); p = {10, 2}; pair\u003cint, pair\u003cint, int\u003e\u003ep;å­˜ä¸‰ä¸ª stringï¼Œå­—ç¬¦ä¸² size()/length() è¿”å›å­—ç¬¦ä¸²é•¿åº¦ empty() clear() substr(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦)) è¿”å›å­ä¸² c_str() è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€ ç”¨äºç”¨printfè¾“å‡º æ”¯æŒåŠ è¿ç®—ï¼š string a = \"1\"; a += \"bcd\"; queue, é˜Ÿåˆ— size() empty() push() å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´  front() è¿”å›é˜Ÿå¤´å…ƒç´  back() è¿”å›é˜Ÿå°¾å…ƒç´  pop() å¼¹å‡ºé˜Ÿå¤´å…ƒç´  priority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§é¡¶å † size() empty() push() æ’å…¥ä¸€ä¸ªå…ƒç´  top() è¿”å›å †é¡¶å…ƒç´  pop() å¼¹å‡ºå †é¡¶å…ƒç´  å®šä¹‰æˆå°é¡¶å †çš„æ–¹å¼ï¼š priority_queue\u003cint, vector\u003cint\u003e, greater\u003cint\u003e\u003e q; priority_queue\u003cint\u003e heap; å¯ä»¥é€šè¿‡æ’å…¥-xå®ç°å°é¡¶å †ã€‚ stack, æ ˆ size() empty() push() å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´  top() è¿”å›æ ˆé¡¶å…ƒç´  pop() å¼¹å‡ºæ ˆé¡¶å…ƒç´  deque, åŒç«¯é˜Ÿåˆ—ï¼ŒåŠ å¼ºç‰ˆvectorï¼Œæ•ˆç‡ä½ï¼Œå°½é‡ä¸ç”¨ size() empty() clear() front()/back() push_back()/pop_back() push_front()/pop_front() begin()/end() è¿­ä»£å™¨ [] æ”¯æŒç›´æ¥ç´¢å¼• set, map, multiset, multimap, åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ— size() empty() clear() begin()/end() ++, -- è¿”å›å‰é©±å’Œåç»§ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn) set/multiset setä¸å…è®¸é‡å¤å…ƒç´  insert() æ’å…¥ä¸€ä¸ªæ•° find() æŸ¥æ‰¾ä¸€ä¸ªæ•°ï¼Œè¿”å›è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›endè¿­ä»£å™¨ count() è¿”å›æŸä¸€ä¸ªæ•°çš„ä¸ªæ•° erase() (1) è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x O(k + logn) (2) è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨ lower_bound()/upper_bound() lower_bound(x) è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨ upper_bound(x) è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨ map/multimap insert() æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair erase() è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨ find() [] æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn) lower_bound()/upper_bound() map\u003cstring ,int\u003e a; a[\"yxc\"] = 1; cout \u003c\u003c a[\"yec\"] \u003c\u003c endl; unordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨ å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1) ä¸æ”¯æŒ lower_bound()/upper_bound()ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ--. bitset, åœ§ä½ æ˜¯boolæ•°ç»„çš„1/8ã€‚ğŸ‚ bitset\u003c10000\u003e s; ~s; ~, \u0026, |, ^ \u003e\u003e, \u003c\u003c ==, != [] count() è¿”å›æœ‰å¤šå°‘ä¸ª1 any() åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª1 none() åˆ¤æ–­æ˜¯å¦å…¨ä¸º0 set() æŠŠæ‰€æœ‰ä½ç½®æˆ1 set(k, v) å°†ç¬¬kä½å˜æˆv reset() æŠŠæ‰€æœ‰ä½å˜æˆ0 flip() ç­‰ä»·äº~ flip(k) æŠŠç¬¬kä½å–å ä½œè€…ï¼šyxc é“¾æ¥ï¼šhttps://www.acwing.com/blog/content/404/ æ¥æºï¼šAcWing ",
  "wordCount" : "3143",
  "inLanguage": "en",
  "datePublished": "2021-10-12T00:30:02+08:00",
  "dateModified": "2021-10-12T00:30:02+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://imingx.github.io/posts/algorithm_02/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ming Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://imingx.github.io/images/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://imingx.github.io/" accesskey="h" title="Ming Blog (Alt + H)">Ming Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://imingx.github.io/archive/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://imingx.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://imingx.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://imingx.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      ã€ŒAlgorithmã€02 Data Structure
    </h1>
    <div class="post-meta"><span title='2021-10-12 00:30:02 +0800 CST'>October 12, 2021</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e9%93%be%e8%a1%a8%e4%b8%8e%e9%82%bb%e6%8e%a5%e8%a1%a8%e6%a0%91%e4%b8%8e%e5%9b%be%e7%9a%84%e5%ad%98%e5%82%a8" aria-label="é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨">é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨</a><ul>
                        
                <li>
                    <a href="#%e7%94%a8%e6%95%b0%e7%bb%84%e6%a8%a1%e6%8b%9f%e5%8d%95%e9%93%be%e8%a1%a8" aria-label="ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨">ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨</a></li>
                <li>
                    <a href="#%e7%94%a8%e6%95%b0%e7%bb%84%e6%a8%a1%e6%8b%9f%e5%8f%8c%e9%93%be%e8%a1%a8" aria-label="ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨">ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%a0%88%e4%b8%8e%e9%98%9f%e5%88%97" aria-label="æ ˆä¸é˜Ÿåˆ—">æ ˆä¸é˜Ÿåˆ—</a><ul>
                        
                <li>
                    <a href="#%e5%8d%95%e8%b0%83%e6%a0%88" aria-label="å•è°ƒæ ˆï¼š">å•è°ƒæ ˆï¼š</a></li>
                <li>
                    <a href="#%e5%8d%95%e8%b0%83%e9%98%9f%e5%88%97" aria-label="å•è°ƒé˜Ÿåˆ—">å•è°ƒé˜Ÿåˆ—</a></li></ul>
                </li>
                <li>
                    <a href="#kmp" aria-label="KMP">KMP</a></li>
                <li>
                    <a href="#trie%e6%a0%91" aria-label="Trieæ ‘">Trieæ ‘</a></li>
                <li>
                    <a href="#%e5%b9%b6%e6%9f%a5%e9%9b%86" aria-label="å¹¶æŸ¥é›†">å¹¶æŸ¥é›†</a></li>
                <li>
                    <a href="#%e5%a0%86" aria-label="å †">å †</a></li>
                <li>
                    <a href="#hash%e8%a1%a8" aria-label="Hashè¡¨">Hashè¡¨</a></li>
                <li>
                    <a href="#cstl%e4%bd%bf%e7%94%a8" aria-label="C&#43;&#43;STLä½¿ç”¨">C++STLä½¿ç”¨</a><ul>
                        
                <li>
                    <a href="#vector" aria-label="vector:">vector:</a></li>
                <li>
                    <a href="#%e4%b8%8b%e9%9d%a2%e6%98%af%e6%a8%a1%e6%9d%bf" aria-label="ä¸‹é¢æ˜¯æ¨¡æ¿">ä¸‹é¢æ˜¯æ¨¡æ¿</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><ul>
<li>é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨</li>
<li>æ ˆä¸é˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ</li>
<li>kmp</li>
<li>Trie</li>
<li>å¹¶æŸ¥é›†</li>
<li>å †</li>
<li>Hashè¡¨</li>
</ul>
<h1 id="é“¾è¡¨ä¸é‚»æ¥è¡¨æ ‘ä¸å›¾çš„å­˜å‚¨">é“¾è¡¨ä¸é‚»æ¥è¡¨ï¼šæ ‘ä¸å›¾çš„å­˜å‚¨<a hidden class="anchor" aria-hidden="true" href="#é“¾è¡¨ä¸é‚»æ¥è¡¨æ ‘ä¸å›¾çš„å­˜å‚¨">#</a></h1>
<p>ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æ„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆç‡</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">struct</span> <span style="color:#268bd2">Node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>		<span style="color:#dc322f">int</span> val;
</span></span><span style="display:flex;"><span>		Node <span style="color:#719e07">*</span> next;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Node <span style="color:#719e07">*</span> p <span style="color:#719e07">=</span> <span style="color:#719e07">new</span> Node();
</span></span></code></pre></td></tr></table>
</div>
</div><p>é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚</p>
<h2 id="ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨">ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨<a hidden class="anchor" aria-hidden="true" href="#ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨">#</a></h2>
<p>æœ€å¸¸ç”¨çš„é‚»æ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æ¥è¡¨å­˜å‚¨çš„ã€‚</p>
<p><img loading="lazy" src="img1.png" alt="Untitled"  />
</p>
<p>ä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">70
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">1e5</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">// head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">// e[i]æ˜¯èŠ‚ç‚¹içš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">// ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">// idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">int</span> head, e[N], ne[N], idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">init</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    head <span style="color:#719e07">=</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    idx <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>;    
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">//å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">void</span> <span style="color:#268bd2">add_to_head</span>(<span style="color:#dc322f">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#719e07">=</span> x, ne[idx] <span style="color:#719e07">=</span> head, head <span style="color:#719e07">=</span> idx, idx <span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">//å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åé¢
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">void</span> <span style="color:#268bd2">add</span>(<span style="color:#dc322f">int</span> k, <span style="color:#dc322f">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#719e07">=</span> x, ne[idx] <span style="color:#719e07">=</span> ne[k], ne[k] <span style="color:#719e07">=</span> idx, idx <span style="color:#719e07">++</span>;   
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">//åˆ é™¤kåé¢çš„èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">void</span> <span style="color:#268bd2">remove</span>(<span style="color:#dc322f">int</span> k)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ne[k] <span style="color:#719e07">=</span> ne[ne[k]];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    init();
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span> ( m <span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> k, x;
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">char</span> op;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> op;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (op <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;H&#39;</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>            add_to_head(x);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> <span style="color:#719e07">if</span>( op <span style="color:#719e07">==</span>  <span style="color:#2aa198">&#39;D&#39;</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> k;
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">if</span> (k <span style="color:#719e07">==</span> <span style="color:#2aa198">0</span>) head <span style="color:#719e07">=</span> ne[head];
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">else</span> remove(k <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>);
</span></span><span style="display:flex;"><span>        }<span style="color:#719e07">else</span> {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> k <span style="color:#719e07">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>            add(k <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>, x);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span> (<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> head; i <span style="color:#719e07">!=</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>; i <span style="color:#719e07">=</span> ne[i])
</span></span><span style="display:flex;"><span>        cout <span style="color:#719e07">&lt;&lt;</span> e[i] <span style="color:#719e07">&lt;&lt;</span> <span style="color:#2aa198">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨">ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨<a hidden class="anchor" aria-hidden="true" href="#ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨">#</a></h2>
<p>ç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚</p>
<p>int l[N], r[N];ï¼Œè®©0æ˜¯headï¼Œ1æ˜¯tail</p>
<p><img loading="lazy" src="img2.png" alt="Untitled"  />
</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100010</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> m;
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> e[N], l[N], r[N], idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">init</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//0è¡¨ç¤ºå·¦ç«¯ç‚¹ï¼Œ1è¡¨ç¤ºå³ç«¯ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    r[<span style="color:#2aa198">0</span>] <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    l[<span style="color:#2aa198">1</span>] <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>    idx <span style="color:#719e07">=</span> <span style="color:#2aa198">2</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">add</span>(<span style="color:#dc322f">int</span> k, <span style="color:#dc322f">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//åœ¨kçš„å³è¾¹æ’å…¥x
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    e[idx] <span style="color:#719e07">=</span> x;
</span></span><span style="display:flex;"><span>    r[idx] <span style="color:#719e07">=</span> r[k];
</span></span><span style="display:flex;"><span>    l[idx] <span style="color:#719e07">=</span> k;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    l[r[k]] <span style="color:#719e07">=</span> idx;
</span></span><span style="display:flex;"><span>    r[k] <span style="color:#719e07">=</span> idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    idx <span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//å¦‚æœæƒ³æ’å…¥å·¦è¾¹ï¼Œåªè¦add(l[k], x)
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">remove</span>(<span style="color:#dc322f">int</span> k)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    r[l[k]] <span style="color:#719e07">=</span> r[k];
</span></span><span style="display:flex;"><span>    l[r[k]] <span style="color:#719e07">=</span> l[k];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‚»æ¥è¡¨ï¼Œå°±æ˜¯nä¸ªå•é“¾è¡¨.</p>
<h1 id="æ ˆä¸é˜Ÿåˆ—">æ ˆä¸é˜Ÿåˆ—<a hidden class="anchor" aria-hidden="true" href="#æ ˆä¸é˜Ÿåˆ—">#</a></h1>
<p>æ ˆå°±æ˜¯å…ˆè¿›åå‡ºã€‚</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100010</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> stk[N], tt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    åˆå§‹åŒ–
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//tt = -1; 
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    
</span></span><span style="display:flex;"><span>    å…¥æ ˆ
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//stk[ ++ tt] = x;
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    
</span></span><span style="display:flex;"><span>    å‡ºæ ˆ
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">// return stk[tt --];
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    
</span></span><span style="display:flex;"><span>    ç©º
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//if (tt &gt;= 0) return true;
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#586e75">//else return false;
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    
</span></span><span style="display:flex;"><span>    æ ˆé¡¶
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//stk[tt];
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>å®é™…ä¸Šï¼Œä»¤tt <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>åˆå§‹åŒ–ï¼Œæ›´ç®€æ´ã€‚
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>åˆ¤ç©ºæ—¶ï¼Œåªè¦ <span style="color:#719e07">if</span> (tt <span style="color:#719e07">&gt;</span> <span style="color:#2aa198">0</span>) <span style="color:#719e07">return</span> <span style="color:#b58900">true</span>; <span style="color:#586e75">// if(tt) return true;
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>					<span style="color:#719e07">else</span> <span style="color:#719e07">return</span> <span style="color:#b58900">false</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>é˜Ÿåˆ—ï¼š</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> q[N], hh <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>, tt <span style="color:#719e07">=</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>; <span style="color:#586e75">//hhæ˜¯é˜Ÿå¤´ï¼Œ ttæ˜¯é˜Ÿå°¾ã€‚é˜Ÿå°¾æ’å…¥ï¼Œé˜Ÿå¤´å¼¹å‡º
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">//æ’å…¥
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>q[ <span style="color:#719e07">++</span> tt] <span style="color:#719e07">=</span> x;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">//å¼¹å‡ºï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#719e07">return</span> q[hh <span style="color:#719e07">++</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">if</span>( hh <span style="color:#719e07">&lt;=</span> tt) not empty;
</span></span><span style="display:flex;"><span><span style="color:#719e07">else</span> empty;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>å–å‡ºé˜Ÿå¤´é˜Ÿå°¾å…ƒç´ ï¼š
</span></span><span style="display:flex;"><span><span style="color:#719e07">return</span> q[hh];
</span></span><span style="display:flex;"><span><span style="color:#719e07">return</span> q[tt];
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€ƒéªŒè®°å¿†åŠ›å’Œæ¯…åŠ›ï¼ˆè‡ªåˆ¶åŠ›ï¼‰ã€‚</p>
<h2 id="å•è°ƒæ ˆ">å•è°ƒæ ˆï¼š<a hidden class="anchor" aria-hidden="true" href="#å•è°ƒæ ˆ">#</a></h2>
<p>ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œæ±‚åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œç¦»ä»–æœ€è¿‘çš„å·¦è¾¹æ¯”ä»–å°çš„æ•°ã€‚å¦åˆ™ä¸º-1ã€‚</p>
<p>æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªæ ˆï¼Œå¯¹äºæ¯ä¸ªxï¼Œä¹‹å‰çš„å…ƒç´ ï¼Œåº”è¯¥è®©stk[tt] â‰¥ xçš„éƒ½å‡ºæ ˆã€‚</p>
<p>è¿™æ ·xå†å…¥æ ˆï¼Œå°±æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„æ ˆåºåˆ—ã€‚è€Œæ‰¾åˆ°æœ€å°çš„ï¼Œåªè¦æ‰¾åˆ°xå…¥æ ˆå‰çš„æ ˆé¡¶å³å¯ã€‚</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">1e5</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> stk[N], tt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; i <span style="color:#719e07">&lt;</span> n; <span style="color:#719e07">++</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> x;
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">while</span>(tt <span style="color:#719e07">&amp;&amp;</span> stk[tt] <span style="color:#719e07">&gt;=</span> x) tt <span style="color:#719e07">--</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (tt) cout <span style="color:#719e07">&lt;&lt;</span> stk[tt] <span style="color:#719e07">&lt;&lt;</span> <span style="color:#2aa198">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> cout <span style="color:#719e07">&lt;&lt;</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span> <span style="color:#719e07">&lt;&lt;</span> <span style="color:#2aa198">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        stk[<span style="color:#719e07">++</span>tt] <span style="color:#719e07">=</span> x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#586e75">//è¿™ä¸ªç®—æ³•ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆä¸€æ¬¡ï¼Œæ‰€ä»¥å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å•è°ƒé˜Ÿåˆ—">å•è°ƒé˜Ÿåˆ—<a hidden class="anchor" aria-hidden="true" href="#å•è°ƒé˜Ÿåˆ—">#</a></h2>
<p><a href="https://www.acwing.com/problem/content/156/">https://www.acwing.com/problem/content/156/</a>æ»‘åŠ¨çª—å£</p>
<p>ä¸€ä¸ªåºåˆ—ï¼Œåœ¨ä¸€ä¸ªçª—å£å†…ï¼Œç®—å‡ºå…¶æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œçª—å£é€æ¸å‘å³ç§»åŠ¨ã€‚</p>
<p>åœ¨ä¸€ä¸ªçª—å£å†…ï¼Œå¦‚æœå³è¾¹çš„å…ƒç´ æ¯”å·¦è¾¹çš„å…ƒç´ å°ï¼Œ</p>
<ol>
<li>é¦–å…ˆè€ƒè™‘æš´åŠ›æ€ä¹ˆåšã€‚</li>
<li>ç„¶åè€ƒè™‘åœ¨çª—å£ç§»åŠ¨çš„æ—¶å€™ï¼Œæ€æ ·åˆ é™¤ä¸€äº›æ— ç”¨çš„å…ƒç´ ã€‚</li>
</ol>
<p>å¦‚æœä¸å¼€O2ä¼˜åŒ–ï¼Œé‚£ä¹ˆæ•°ç»„æ¯”STLå¿«ä¸€äº›ã€‚</p>
<p>O3ä¼˜åŒ–</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#pragma GCC optimize(2)
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img loading="lazy" src="img3.png" alt="Untitled"  />
</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">1e6</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> a[N], q[N];
</span></span><span style="display:flex;"><span><span style="color:#586e75">//qæ˜¯ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—ï¼Œaåªæ˜¯è®°å½•çš„å€¼a[q[i]]æ˜¯å–ä¸‹æ ‡çš„å€¼ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">int</span> n, k;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n <span style="color:#719e07">&gt;&gt;</span> k;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; i <span style="color:#719e07">&lt;</span> n; <span style="color:#719e07">++</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#2aa198">&#34;%d&#34;</span>, <span style="color:#719e07">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> hh <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>, tt <span style="color:#719e07">=</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; i <span style="color:#719e07">&lt;</span> n; i <span style="color:#719e07">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#586e75">//åˆ¤æ–­é˜Ÿå¤´æ˜¯å¦å·²ç»å‡ºçª—å£
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>        <span style="color:#719e07">if</span> (hh <span style="color:#719e07">&lt;=</span> tt <span style="color:#719e07">&amp;&amp;</span> i <span style="color:#719e07">-</span> k <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span> <span style="color:#719e07">&gt;</span> q[hh])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">++</span> hh;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#586e75">//å½¢æˆä¸€ä¸ªå•è°ƒé€’å¢çš„åºåˆ—ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>        <span style="color:#719e07">while</span>(hh <span style="color:#719e07">&lt;=</span> tt <span style="color:#719e07">&amp;&amp;</span> a[q[tt]] <span style="color:#719e07">&gt;=</span> a[i])
</span></span><span style="display:flex;"><span>            tt <span style="color:#719e07">--</span>;
</span></span><span style="display:flex;"><span>        q[<span style="color:#719e07">++</span>tt] <span style="color:#719e07">=</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (i <span style="color:#719e07">&gt;=</span> k <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>) printf(<span style="color:#2aa198">&#34;%d &#34;</span>, a[q[hh]]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    puts(<span style="color:#2aa198">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    hh <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>, tt <span style="color:#719e07">=</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; i <span style="color:#719e07">&lt;</span> n; <span style="color:#719e07">++</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>( hh <span style="color:#719e07">&lt;=</span> tt <span style="color:#719e07">&amp;&amp;</span> i <span style="color:#719e07">-</span> q[hh] <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span> <span style="color:#719e07">&gt;</span> k)
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">++</span> hh;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">while</span>( hh <span style="color:#719e07">&lt;=</span> tt <span style="color:#719e07">&amp;&amp;</span> a[q[tt]] <span style="color:#719e07">&lt;=</span> a[i])
</span></span><span style="display:flex;"><span>            tt <span style="color:#719e07">--</span>;
</span></span><span style="display:flex;"><span>         q[<span style="color:#719e07">++</span>tt] <span style="color:#719e07">=</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (i <span style="color:#719e07">&gt;=</span> k <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>) printf(<span style="color:#2aa198">&#34;%d &#34;</span>, a[q[hh]]);
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>    }   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="kmp">KMP<a hidden class="anchor" aria-hidden="true" href="#kmp">#</a></h1>
<ol>
<li>æš´åŠ›ç®—æ³•æ€ä¹ˆåšï¼Ÿ</li>
<li>å¦‚ä½•å»ä¼˜åŒ–ã€‚</li>
</ol>
<p>æœ´ç´ ç®—æ³•ï¼š</p>
<blockquote>
<p>S[N]â†’ p[M]
for(int  i = 1; i â‰¤ n; ++i)</p>
<p>bool flag = true;</p>
<p>int t = i;</p>
<p>for(int j = 1; j â‰¤ m; j++, t++)</p>
<p>if (s[t] â‰  p[j])</p>
<p>{</p>
<p>flag = false;</p>
<p>break;</p>
<p>}</p>
</blockquote>
<p>KMPè§£é‡Šï¼ˆä»¥1å¼€å§‹ï¼‰</p>
<p>nextæ•°ç»„è¡¨ç¤ºï¼Œnext[i] = jï¼Œè¡¨ç¤ºp[1, j] = p[ i - j  + 1, i]</p>
<p><img loading="lazy" src="img4.png" alt="Untitled"  />
</p>
<p><img loading="lazy" src="img5.png" alt="Untitled"  />
</p>
<p><img loading="lazy" src="img6.png" alt="Untitled"  />
</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100010</span>, M <span style="color:#719e07">=</span> <span style="color:#2aa198">1000010</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> n, m;
</span></span><span style="display:flex;"><span><span style="color:#dc322f">char</span> p[N], s[M];
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> ne[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>() {
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n <span style="color:#719e07">&gt;&gt;</span> p <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span> <span style="color:#719e07">&gt;&gt;</span> m <span style="color:#719e07">&gt;&gt;</span> s <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>; 
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//index from 1    
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">// æ±‚Next
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">2</span>, j <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; i <span style="color:#719e07">&lt;=</span> n; <span style="color:#719e07">++</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span><span style="color:#586e75">//æ¯æ¬¡éƒ½æ¯”è¾ƒ j+1ä¸iï¼Œåˆ°æœ€åä¹‹å‰ï¼Œå¯ä»¥ä¿è¯1-jå·²ç»æ˜¯åŒ¹é…çš„ã€‚é™¤éj = 0
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>        <span style="color:#719e07">while</span>(j <span style="color:#719e07">&amp;&amp;</span> p[i] <span style="color:#719e07">!=</span> p[ j <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>]) j <span style="color:#719e07">=</span> ne[j];
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(p[i] <span style="color:#719e07">==</span> p[j<span style="color:#719e07">+</span><span style="color:#2aa198">1</span>]) j<span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>        ne[i] <span style="color:#719e07">=</span> j;
</span></span><span style="display:flex;"><span>        <span style="color:#586e75">//å‰jä¸ªï¼ˆ1-jï¼‰çš„å…ƒç´ ä¸[i-j +1, i]çš„å…ƒç´ åŒ¹é…ï¼Œæ‰€ä»¥ne[i] = j
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>, j <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; i <span style="color:#719e07">&lt;=</span>m ; <span style="color:#719e07">++</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">while</span>(j <span style="color:#719e07">&amp;&amp;</span> s[i] <span style="color:#719e07">!=</span> p[ j <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>]) j <span style="color:#719e07">=</span> ne[j];
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>( s[i] <span style="color:#719e07">==</span> p[j<span style="color:#719e07">+</span><span style="color:#2aa198">1</span>]) j<span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(j <span style="color:#719e07">==</span> n)<span style="color:#586e75">//å‰nä¸ªå…ƒç´ å·²ç»åŒ¹é…
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#586e75">//åŒ¹é…æˆåŠŸ
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>            printf(<span style="color:#2aa198">&#34;%d &#34;</span>, i <span style="color:#719e07">-</span> n );
</span></span><span style="display:flex;"><span>            j <span style="color:#719e07">=</span> ne[j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="trieæ ‘">Trieæ ‘<a hidden class="anchor" aria-hidden="true" href="#trieæ ‘">#</a></h1>
<p>é«˜æ•ˆåœ°å­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œé›†åˆçš„æ•°æ®ç»“æ„</p>
<p>æ¯”å¦‚ï¼š</p>
<blockquote>
<p>abcdef
abdef
aced
bcdf
bcff
cdaa
dcdc</p>
</blockquote>
<p>å½“æ•°é‡è¿‡å¤§ï¼Œå¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºã€‚æ¯”å¦‚è€ƒè™‘æ±‰å­—ï¼Œç›´æ¥æ‰¾å…¶äºŒè¿›åˆ¶100000101010,æ¯ä¸€æ­¥ä»…è€ƒè™‘1å’Œ0.</p>
<p><img loading="lazy" src="img7.png" alt="Untitled"  />
</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100010</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> son[N][<span style="color:#2aa198">26</span>], cnt[N], idx;
</span></span><span style="display:flex;"><span><span style="color:#586e75">//ä¸‹æ ‡æ˜¯0çš„ç‚¹ï¼Œæ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">char</span> str[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">insert</span>(<span style="color:#dc322f">char</span> str[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> p <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; str[i]; <span style="color:#719e07">++</span>i){
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> u <span style="color:#719e07">=</span> str[i] <span style="color:#719e07">-</span> <span style="color:#2aa198">&#39;a&#39;</span>;   
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (<span style="color:#719e07">!</span>son[p][u]) son[p][u] <span style="color:#719e07">=</span> <span style="color:#719e07">++</span> idx;
</span></span><span style="display:flex;"><span>        p <span style="color:#719e07">=</span> son[p][u];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cnt[p] <span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">query</span>(<span style="color:#dc322f">char</span> str[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> p <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>; str[i]; <span style="color:#719e07">++</span>i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> u <span style="color:#719e07">=</span> str[i] <span style="color:#719e07">-</span> <span style="color:#2aa198">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(<span style="color:#719e07">!</span>son[p][u]) <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>        p <span style="color:#719e07">=</span> son[p][u];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> cnt[p];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>(n<span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">char</span> op[<span style="color:#2aa198">2</span>];
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> op <span style="color:#719e07">&gt;&gt;</span> str;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (op[<span style="color:#2aa198">0</span>] <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;I&#39;</span>) insert(str);
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> cout <span style="color:#719e07">&lt;&lt;</span> query(str) <span style="color:#719e07">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å¹¶æŸ¥é›†">å¹¶æŸ¥é›†<a hidden class="anchor" aria-hidden="true" href="#å¹¶æŸ¥é›†">#</a></h1>
<p>é¢è¯•å’Œæ¯”èµ›ï¼Œéå¸¸å®¹æ˜“å‡ºçš„æ•°æ®ç»“æ„ã€‚</p>
<p>ç”¨æ¥å¿«é€Ÿçš„å¤„ç†ï¼š</p>
<ol>
<li>å°†ä¸¤ä¸ªé›†åˆåˆå¹¶</li>
<li>è¯¢é—®ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆå½“ä¸­</li>
</ol>
<p>belong[x] = aï¼Œå­˜å‚¨xå±äºé›†åˆaã€‚</p>
<p>è¿‘ä¹Oï¼ˆ1ï¼‰çš„æ”¯æŒä¸Šé¢çš„ä¸¤ä¸ªæ“ä½œã€‚</p>
<p><img loading="lazy" src="img8.png" alt="Untitled"  />
</p>
<p>åŸºæœ¬åŸç†ï¼šæ¯ä¸ªé›†åˆç”¨ä¸€æ£µæ ‘æ¥è¡¨ç¤ºï¼Œæ ‘æ ¹çš„ç¼–å·å°±æ˜¯æ•´ä¸ªé›†åˆçš„ç¼–å·ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œp[x] è¡¨ç¤ºçˆ¶èŠ‚ç‚¹ã€‚</p>
<ul>
<li>é—®é¢˜1ï¼š å¦‚ä½•åˆ¤æ–­æ ‘æ ¹ p[x] == x, xå°±æ˜¯é›†åˆçš„ç¼–å·</li>
<li>é—®é¢˜2ï¼šå¦‚ä½•æ±‚xçš„é›†åˆç¼–å·ï¼Œwhile(p[x] ! = x) x = p[x]</li>
<li>é—®é¢˜3ï¼šå¦‚ä½•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼šå‡è®¾pxæ˜¯xçš„é›†åˆçš„ç¼–å·ï¼Œpyæ˜¯yçš„é›†åˆçš„ç¼–å·ï¼Œé‚£ä¹ˆp[x] = y;</li>
</ul>
<p><img loading="lazy" src="img9.png" alt="Untitled"  />
</p>
<p>å¹¶æŸ¥é›†çš„ä¼˜åŒ–ï¼š</p>
<ul>
<li>ï¼ˆè·¯å¾„å‹ç¼©ï¼‰, æ¯æ¬¡æŸ¥è¯¢å…¶çˆ¶èŠ‚ç‚¹ï¼Œåªè¦ç›´æ¥æŒ‡å‘å…¶ç¥–å®—èŠ‚ç‚¹ã€‚</li>
</ul>
<p>åˆå¹¶é›†åˆ</p>
<p><a href="https://www.acwing.com/problem/content/838/">https://www.acwing.com/problem/content/838/</a></p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">1e5</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> p[N];
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> n, m;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">find</span>(<span style="color:#dc322f">int</span> x) <span style="color:#586e75">//è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„å‹ç¼©
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span>(p[x] <span style="color:#719e07">!=</span> x) p[x] <span style="color:#719e07">=</span> find(p[x]);
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> p[x];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n <span style="color:#719e07">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>; i <span style="color:#719e07">&lt;=</span>n ; <span style="color:#719e07">++</span> i) p[i] <span style="color:#719e07">=</span> i;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>(m <span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">char</span> op[<span style="color:#2aa198">2</span>];
</span></span><span style="display:flex;"><span><span style="color:#586e75">//å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›è½¦
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>        <span style="color:#dc322f">int</span> a, b;
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> op <span style="color:#719e07">&gt;&gt;</span> a <span style="color:#719e07">&gt;&gt;</span> b;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(op[<span style="color:#2aa198">0</span>] <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;M&#39;</span>) p[find(a)] <span style="color:#719e07">=</span> find(b);
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">if</span>(find(a) <span style="color:#719e07">==</span> find(b)) puts(<span style="color:#2aa198">&#34;Yes&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">else</span> puts(<span style="color:#2aa198">&#34;No&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿é€šå—ä¸­ç‚¹çš„æ•°é‡<a href="https://www.acwing.com/problem/content/839/">https://www.acwing.com/problem/content/839/</a></p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">1e5</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">//å¦‚ä½•æŸ¥è¯¢æ¯ä¸ªè”é€šå—çš„æ•°é‡ï¼Ÿç»´æŠ¤æ ¹èŠ‚ç‚¹çš„sizeå³å¯ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">int</span> p[N], siz[N];
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> n, m;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">find</span>(<span style="color:#dc322f">int</span> x) <span style="color:#586e75">//è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„å‹ç¼©
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span>(p[x] <span style="color:#719e07">!=</span> x) p[x] <span style="color:#719e07">=</span> find(p[x]);
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> p[x];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n <span style="color:#719e07">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>; i <span style="color:#719e07">&lt;=</span>n ; <span style="color:#719e07">++</span> i) {
</span></span><span style="display:flex;"><span>        p[i] <span style="color:#719e07">=</span> i;
</span></span><span style="display:flex;"><span>        siz[i] <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>(m <span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">char</span> op[<span style="color:#2aa198">5</span>];
</span></span><span style="display:flex;"><span><span style="color:#586e75">//å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›è½¦
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>        <span style="color:#dc322f">int</span> a, b;
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> op;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(op[<span style="color:#2aa198">0</span>] <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;C&#39;</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> a <span style="color:#719e07">&gt;&gt;</span> b;
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">if</span>(find(a) <span style="color:#719e07">!=</span> find(b))
</span></span><span style="display:flex;"><span>                siz[find(b)] <span style="color:#719e07">+=</span> siz[find(a)];
</span></span><span style="display:flex;"><span>            p[find(a)] <span style="color:#719e07">=</span> find(b);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#719e07">else</span> <span style="color:#719e07">if</span> (op[<span style="color:#2aa198">1</span>] <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;1&#39;</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> a <span style="color:#719e07">&gt;&gt;</span> b;
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">if</span>(find(a) <span style="color:#719e07">==</span> find(b)) puts(<span style="color:#2aa198">&#34;Yes&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">else</span> puts(<span style="color:#2aa198">&#34;No&#34;</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#719e07">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> a;
</span></span><span style="display:flex;"><span>            cout <span style="color:#719e07">&lt;&lt;</span> siz[find(a)] <span style="color:#719e07">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å †">å †<a hidden class="anchor" aria-hidden="true" href="#å †">#</a></h1>
<p>å¦‚ä½•æ‰‹å†™ä¸€ä¸ªå †ï¼Ÿ</p>
<ol>
<li>æ’å…¥ä¸€ä¸ªæ•°</li>
<li>æ±‚é›†åˆå½“ä¸­çš„æœ€å°å€¼</li>
<li>åˆ é™¤æœ€å°å€¼</li>
<li>åˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´ </li>
<li>ä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ </li>
</ol>
<p>å †çš„åŸºæœ¬ç»“æ„ï¼š</p>
<p>æ˜¯ä¸€æ£µäºŒå‰æ ‘ã€‚æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚</p>
<p>ä»¥å°é¡¶å †ä¸ºä¾‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹éƒ½å¤§äºè¯¥èŠ‚ç‚¹çš„å€¼ã€‚</p>
<p>ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å­˜æ”¾å †ã€‚</p>
<p>1å·ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œxçš„å·¦å„¿å­æ˜¯2xï¼Œå³å­èŠ‚ç‚¹æ˜¯2x+1ã€‚</p>
<p>æ“ä½œï¼š</p>
<ul>
<li>down(x)ï¼Œå¾€ä¸‹è°ƒæ•´xã€‚æ¯æ¬¡æ‰¾è¿™ä¸ªèŠ‚ç‚¹å’Œä¸¤ä¸ªå­èŠ‚ç‚¹çš„æœ€å°å€¼ï¼Œç„¶åäº¤æ¢å³å¯ã€‚</li>
<li>up(x)ï¼Œå¾€ä¸Šè°ƒæ•´xã€‚æ¯æ¬¡å¾€ä¸Šå’Œçˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œéœ€è¦äº¤æ¢æ—¶äº¤æ¢å³å¯ã€‚</li>
</ul>
<p>æ€ä¹ˆæ’å…¥xï¼Ÿ</p>
<ul>
<li>heap[ ++ idx] = x; up(x);</li>
</ul>
<p>æœ€å°å€¼ï¼š</p>
<ul>
<li>heap[1]</li>
</ul>
<p>åˆ é™¤æœ€å°å€¼ï¼š</p>
<ul>
<li>heap[1] = heap[idx]; idxâ€”; down(1);</li>
</ul>
<p>åˆ é™¤ä»»æ„å…ƒç´ </p>
<ul>
<li>heap[k] = heap[size], sizeâ€”; down(k); up(k);</li>
</ul>
<p>ä¿®æ”¹å…ƒç´ ï¼š</p>
<ul>
<li>heap[k] = x; down(k); up(k);</li>
</ul>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">55
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100010</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> n, m;
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> h[N], idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">down</span>(<span style="color:#dc322f">int</span> u)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> t <span style="color:#719e07">=</span> u;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span> (u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span> <span style="color:#719e07">&lt;=</span> idx <span style="color:#719e07">&amp;&amp;</span> h[u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span>] <span style="color:#719e07">&lt;</span> h[t]) t <span style="color:#719e07">=</span> u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span> (u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span> <span style="color:#719e07">&lt;=</span> idx <span style="color:#719e07">&amp;&amp;</span> h[u<span style="color:#719e07">*</span><span style="color:#2aa198">2</span> <span style="color:#719e07">+</span><span style="color:#2aa198">1</span>] <span style="color:#719e07">&lt;</span> h[t]) t <span style="color:#719e07">=</span> u<span style="color:#719e07">*</span><span style="color:#2aa198">2</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span>(u<span style="color:#719e07">!=</span>t){
</span></span><span style="display:flex;"><span>        swap(h[u], h[t]);
</span></span><span style="display:flex;"><span>        down(t);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">up</span>(<span style="color:#dc322f">int</span> u)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>( u <span style="color:#719e07">/</span> <span style="color:#2aa198">2</span> <span style="color:#719e07">&amp;&amp;</span> h[ u<span style="color:#719e07">/</span><span style="color:#2aa198">2</span> ] <span style="color:#719e07">&gt;</span> h[u])
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        swap(h[u<span style="color:#719e07">/</span><span style="color:#2aa198">2</span>], h[u]);
</span></span><span style="display:flex;"><span>        u<span style="color:#719e07">/=</span><span style="color:#2aa198">2</span>;
</span></span><span style="display:flex;"><span>    }   
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n <span style="color:#719e07">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>; i <span style="color:#719e07">&lt;=</span> n; <span style="color:#719e07">++</span> i) scanf(<span style="color:#2aa198">&#34;%d&#34;</span>, <span style="color:#719e07">&amp;</span>h[i]);
</span></span><span style="display:flex;"><span>    idx <span style="color:#719e07">=</span> n;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> n<span style="color:#719e07">/</span><span style="color:#2aa198">2</span>; i ; <span style="color:#719e07">--</span> i) down(i);
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">/*è¿™æ˜¯å»ºç«‹å †çš„è¿‡ç¨‹
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    ä¸ºä»€ä¹ˆä»n/2å¼€å§‹downï¼Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    n/2çš„å­å­©å­æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯å®Œå…¨äºŒå‰æ ‘çš„å€’æ•°ç¬¬äºŒå±‚ï¼Œæ‰€ä»¥è¿™æ ·ä¸€ç›´é€’å½’
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    çš„åšå°±å¥½ï¼Œè€Œä¸”æ—¶é—´å¤æ‚åº¦æ˜¯O(n);
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    */</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>(m<span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#2aa198">&#34;%d &#34;</span>, h[<span style="color:#2aa198">1</span>]);
</span></span><span style="display:flex;"><span>        h[<span style="color:#2aa198">1</span>] <span style="color:#719e07">=</span> h[idx];
</span></span><span style="display:flex;"><span>        idx <span style="color:#719e07">--</span>;
</span></span><span style="display:flex;"><span>        down(<span style="color:#2aa198">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å¸¦æ˜ å°„ç‰ˆçš„å †æ“ä½œ:</strong></p>
<p><a href="https://www.acwing.com/problem/content/841/">https://www.acwing.com/problem/content/841/</a></p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">87
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100010</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> h[N], ph[N], hp[N], idx;
</span></span><span style="display:flex;"><span><span style="color:#586e75">//phå­˜æ”¾æ’å…¥çš„ç¬¬kä¸ªå…ƒç´ åœ¨å †çš„ä¸‹æ ‡ä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">//hpå­˜æ”¾çš„æ˜¯å †ä¸­ç¬¬jä¸ªå…ƒç´ åœ¨phæ•°ç»„çš„ä½ç½®ç´¢å¼•ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">//phå’Œhpæ˜¯äº’ä¸ºåå‡½æ•°ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">heap_swap</span>(<span style="color:#dc322f">int</span> a, <span style="color:#dc322f">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    swap(ph[hp[a]], ph[hp[b]]);
</span></span><span style="display:flex;"><span>    swap(hp[a], hp[b]);
</span></span><span style="display:flex;"><span>    swap(h[a], h[b]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">down</span>(<span style="color:#dc322f">int</span> u)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> t <span style="color:#719e07">=</span> u;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span> (u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span> <span style="color:#719e07">&lt;=</span> idx <span style="color:#719e07">&amp;&amp;</span> h[u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span>] <span style="color:#719e07">&lt;</span> h[t]) t <span style="color:#719e07">=</span> u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span> (u <span style="color:#719e07">*</span> <span style="color:#2aa198">2</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span> <span style="color:#719e07">&lt;=</span> idx <span style="color:#719e07">&amp;&amp;</span> h[u<span style="color:#719e07">*</span><span style="color:#2aa198">2</span> <span style="color:#719e07">+</span><span style="color:#2aa198">1</span>] <span style="color:#719e07">&lt;</span> h[t]) t <span style="color:#719e07">=</span> u<span style="color:#719e07">*</span><span style="color:#2aa198">2</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">if</span>(u<span style="color:#719e07">!=</span>t){
</span></span><span style="display:flex;"><span>        heap_swap(u, t);
</span></span><span style="display:flex;"><span>        down(t);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">up</span>(<span style="color:#dc322f">int</span> u)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>( u <span style="color:#719e07">/</span> <span style="color:#2aa198">2</span> <span style="color:#719e07">&amp;&amp;</span> h[ u<span style="color:#719e07">/</span><span style="color:#2aa198">2</span> ] <span style="color:#719e07">&gt;</span> h[u])
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        heap_swap(u<span style="color:#719e07">/</span><span style="color:#2aa198">2</span>, u);
</span></span><span style="display:flex;"><span>        u<span style="color:#719e07">/=</span><span style="color:#2aa198">2</span>;
</span></span><span style="display:flex;"><span>    }   
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> m <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//mæ˜¯ç¬¬mä¸ªæ’å…¥çš„å…ƒç´ ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#719e07">while</span>(n <span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">char</span> op[<span style="color:#2aa198">10</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> k, x;
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> op;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (<span style="color:#719e07">!</span>strcmp(op, <span style="color:#2aa198">&#34;I&#34;</span>))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>            idx <span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>            m <span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>            ph[m] <span style="color:#719e07">=</span> idx;
</span></span><span style="display:flex;"><span>            hp[idx] <span style="color:#719e07">=</span> m;
</span></span><span style="display:flex;"><span>            h[idx] <span style="color:#719e07">=</span> x;
</span></span><span style="display:flex;"><span>            up(idx);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> <span style="color:#719e07">if</span> (<span style="color:#719e07">!</span>strcmp(op, <span style="color:#2aa198">&#34;PM&#34;</span>)) cout <span style="color:#719e07">&lt;&lt;</span> h[<span style="color:#2aa198">1</span>] <span style="color:#719e07">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> <span style="color:#719e07">if</span> (<span style="color:#719e07">!</span>strcmp(op, <span style="color:#2aa198">&#34;DM&#34;</span>))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            heap_swap(<span style="color:#2aa198">1</span>, idx);
</span></span><span style="display:flex;"><span>            idx <span style="color:#719e07">--</span>;
</span></span><span style="display:flex;"><span>            down(<span style="color:#2aa198">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> <span style="color:#719e07">if</span>(<span style="color:#719e07">!</span>strcmp(op, <span style="color:#2aa198">&#34;D&#34;</span>))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> k;
</span></span><span style="display:flex;"><span>            k <span style="color:#719e07">=</span> ph[k];
</span></span><span style="display:flex;"><span>            heap_swap(k, idx);
</span></span><span style="display:flex;"><span>            idx <span style="color:#719e07">--</span>;
</span></span><span style="display:flex;"><span>            down(k), up(k);
</span></span><span style="display:flex;"><span>        } <span style="color:#719e07">else</span> 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cin <span style="color:#719e07">&gt;&gt;</span> k <span style="color:#719e07">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>            k <span style="color:#719e07">=</span> ph[k];
</span></span><span style="display:flex;"><span>            h[k] <span style="color:#719e07">=</span> x;
</span></span><span style="display:flex;"><span>            down(k), up(k);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>find()å’Œcnt()å¯ä»¥æ”¹æˆï¼Œget()å’Œcnt()ä¿è¯ä¸ç¼–è¯‘é”™è¯¯ï¼Œcompile ERRORã€‚</p>
<h1 id="hashè¡¨">Hashè¡¨<a hidden class="anchor" aria-hidden="true" href="#hashè¡¨">#</a></h1>
<ul>
<li>
<p>å“ˆå¸Œè¡¨çš„å­˜å‚¨ç»“æ„ï¼Œè®¤ä¸ºæ˜¯O(1). å¦‚æœè¦åˆ é™¤ï¼Œåªè¦å¼€ä¸ªæ•°ç»„æ ‡è®°ä¸€ä¸‹ã€‚</p>
<ul>
<li>
<p>å¼€æ”¾å¯»å€æ³•</p>
</li>
<li>
<p>æ‹‰é“¾æ³•</p>
<p><img loading="lazy" src="img10.png" alt="Untitled"  />
</p>
</li>
</ul>
<p>å¸¸è§æƒ…æ™¯ï¼š æŠŠ0-10^9çš„æ•°æ˜ å°„åˆ°0-10^5çš„æ•°ç»„ã€‚</p>
<p>x mod 10 ^ 5 é™„è¿‘çš„è´¨æ•°ã€‚ç„¶åå¤„ç†å†²çªã€‚100003.</p>
<p>å’Œç¦»æ•£åŒ–æ¯”è¾ƒï¼Œç¦»æ•£æ˜¯éœ€è¦ä¿åºçš„ã€‚</p>
</li>
<li>
<p>å¸¸ç”¨çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œæ–¹å¼ã€‚</p>
</li>
</ul>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">57
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#586e75">//æ‹‰é“¾æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstring&gt;</span><span style="color:#586e75">//æœ‰memset
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100003</span>;
</span></span><span style="display:flex;"><span><span style="color:#586e75">//å–å¤§äº10ä¸‡çš„æœ€å°çš„è´¨æ•°ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> h[N], e[N], ne[N], idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">void</span> <span style="color:#268bd2">insert</span>(<span style="color:#dc322f">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> k <span style="color:#719e07">=</span> (x <span style="color:#719e07">%</span> N <span style="color:#719e07">+</span> N) <span style="color:#719e07">%</span> N; <span style="color:#586e75">//å› ä¸ºæœ‰çš„æ•°æ˜¯è´Ÿæ•°ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    
</span></span><span style="display:flex;"><span>    e[idx] <span style="color:#719e07">=</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//eå­˜å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    ne[idx] <span style="color:#719e07">=</span> h[k];
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//neå­˜æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    h[k] <span style="color:#719e07">=</span> idx;
</span></span><span style="display:flex;"><span>    idx <span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//æ’å…¥å¤´éƒ¨ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">bool</span> <span style="color:#268bd2">find</span>(<span style="color:#dc322f">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> k <span style="color:#719e07">=</span> (x <span style="color:#719e07">%</span> N <span style="color:#719e07">+</span> N) <span style="color:#719e07">%</span> N;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> h[k]; i <span style="color:#719e07">!=</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>; i <span style="color:#719e07">=</span> ne[i])
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(e[i] <span style="color:#719e07">==</span> x)
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">return</span> <span style="color:#b58900">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#b58900">false</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> n;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    memset(h, <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>, <span style="color:#719e07">sizeof</span> h);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>(n <span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">char</span> op[<span style="color:#2aa198">2</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> x;
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> op <span style="color:#719e07">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(op[<span style="color:#2aa198">0</span>] <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;I&#39;</span>) insert(x);
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">if</span> (find(x)) puts(<span style="color:#2aa198">&#34;Yes&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">else</span> puts(<span style="color:#2aa198">&#34;No&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p><img loading="lazy" src="img11.png" alt="Untitled"  />
</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">54
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#586e75">//å¼€æ”¾å¯»å€æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">//0xf3f3f3f3æ˜¯10^9çº§åˆ«ï¼Œå¾ˆå¤§ï¼Œç”¨æ¥åˆå§‹åŒ–æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">2e5</span> <span style="color:#719e07">+</span> <span style="color:#2aa198">3</span>, null <span style="color:#719e07">=</span> <span style="color:#2aa198">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#586e75">//ä¸€èˆ¬å–ä¸‰å€ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">//å–è´¨æ•°ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span><span style="color:#dc322f">int</span> h[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">find</span>(<span style="color:#dc322f">int</span> x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> k <span style="color:#719e07">=</span> (x <span style="color:#719e07">%</span> N <span style="color:#719e07">+</span> N) <span style="color:#719e07">%</span> N;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>(h[k] <span style="color:#719e07">!=</span> null <span style="color:#719e07">&amp;&amp;</span> h[k] <span style="color:#719e07">!=</span> x)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        k <span style="color:#719e07">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(k <span style="color:#719e07">==</span> N) k <span style="color:#719e07">=</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#586e75">//è¿™ä¸ªè¿‡ç¨‹ä¸€å®šä¼šåœæ­¢çš„ï¼Œå› ä¸ºæ€»å…±åªæœ‰1e5ä¸ªæ•°å­—ï¼Œè€ŒNæ˜¯äºŒå€ï¼Œæ‰€ä»¥ä¸æ‹…å¿ƒæ»¡;
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#586e75">//ç»“æŸæ¡ä»¶æ—¶ï¼Œh[k] == null æˆ– h[k] == x
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#719e07">return</span> k;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#dc322f">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    memset(h, <span style="color:#2aa198">0x3f</span>, <span style="color:#719e07">sizeof</span> h);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>(n <span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">char</span> op[<span style="color:#2aa198">2</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> x;
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> op <span style="color:#719e07">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> k <span style="color:#719e07">=</span> find(x);
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span> (op[<span style="color:#2aa198">0</span>] <span style="color:#719e07">==</span> <span style="color:#2aa198">&#39;I&#39;</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            h[k] <span style="color:#719e07">=</span> x;
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">if</span> (h[k] <span style="color:#719e07">!=</span> null) puts(<span style="color:#2aa198">&#34;Yes&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#719e07">else</span> puts(<span style="color:#2aa198">&#34;No&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•ã€‚</p>
<blockquote>
<p>str = &ldquo;ABCDEF&rdquo;
h[1] = &ldquo;A&rdquo; // å‰1ä¸ª
h[2] = &ldquo;AB&rdquo;</p>
</blockquote>
<p>å³å¤„ç†å‰ç¼€çš„hashï¼Œh[0] = 0</p>
<p>å¦‚æœå¯¹å­—ç¬¦ä¸²è¿›è¡Œå“ˆå¸Œï¼Ÿå½“æˆpè¿›åˆ¶æ•°ï¼Œa * p ^ 3 + b * p * 2 â€¦â€¦;å†å–æ¨¡Qã€‚</p>
<p>ä¸èƒ½æŠŠå­—æ¯æ˜ å°„æˆ0.</p>
<p><img loading="lazy" src="img12.png" alt="Untitled"  />
</p>
<p>é‚£ä¹ˆå‰ç¼€å“ˆå¸Œå€¼æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“ h[L]åˆ°h[R]çš„å“ˆå¸Œå€¼</p>
<p>æ‰€ä»¥æ±‚L - Rçš„å“ˆå¸Œå€¼ï¼Œåªè¦ h[R] - h[L - 1] * p ^ {R-L+1};</p>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">45
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">typedef</span> <span style="color:#dc322f">unsigned</span> <span style="color:#dc322f">long</span> <span style="color:#dc322f">long</span> ULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> <span style="color:#dc322f">int</span> N <span style="color:#719e07">=</span> <span style="color:#2aa198">100010</span>, P <span style="color:#719e07">=</span> <span style="color:#2aa198">131</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> n, m;
</span></span><span style="display:flex;"><span><span style="color:#dc322f">char</span> str[N];
</span></span><span style="display:flex;"><span>ULL h[N], p[N];
</span></span><span style="display:flex;"><span><span style="color:#586e75">//pæ˜¯å­˜æ”¾Pçš„næ¬¡æ–¹
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>
</span></span><span style="display:flex;"><span>ULL <span style="color:#268bd2">get</span>(<span style="color:#dc322f">int</span> l, <span style="color:#dc322f">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> h[r] <span style="color:#719e07">-</span> h[l <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>] <span style="color:#719e07">*</span> p[r <span style="color:#719e07">-</span> l <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>(){
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    cin <span style="color:#719e07">&gt;&gt;</span> n <span style="color:#719e07">&gt;&gt;</span> m <span style="color:#719e07">&gt;&gt;</span> str <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    p[<span style="color:#2aa198">0</span>] <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">for</span>(<span style="color:#dc322f">int</span> i <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>; i <span style="color:#719e07">&lt;=</span> n; <span style="color:#719e07">++</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        p[i] <span style="color:#719e07">=</span> p[i <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>] <span style="color:#719e07">*</span> P;
</span></span><span style="display:flex;"><span>        h[i] <span style="color:#719e07">=</span> h[i <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>] <span style="color:#719e07">*</span> P <span style="color:#719e07">+</span> str[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">while</span>( m <span style="color:#719e07">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#dc322f">int</span> l1, r1, l2, r2;   
</span></span><span style="display:flex;"><span>        cin <span style="color:#719e07">&gt;&gt;</span> l1 <span style="color:#719e07">&gt;&gt;</span> r1 <span style="color:#719e07">&gt;&gt;</span> l2 <span style="color:#719e07">&gt;&gt;</span> r2;
</span></span><span style="display:flex;"><span>        <span style="color:#719e07">if</span>(get(l1, r1) <span style="color:#719e07">==</span> get(l2, r2))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            puts(<span style="color:#2aa198">&#34;Yes&#34;</span>);   
</span></span><span style="display:flex;"><span>        } <span style="color:#719e07">else</span> {
</span></span><span style="display:flex;"><span>            puts(<span style="color:#2aa198">&#34;No&#34;</span>);   
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>hashç®—æ³•æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒæ¯”KMPæ›´å¥½</p>
<p>KMPæ›´é€‚åˆå¾ªç¯èŠ‚ã€‚</p>
<h1 id="cstlä½¿ç”¨">C++STLä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#cstlä½¿ç”¨">#</a></h1>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector å¯å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³
</span></span><span style="display:flex;"><span>string å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨ï¼Œsubstr(), c_str()
</span></span><span style="display:flex;"><span>queue, é˜Ÿåˆ—ï¼Œè¿›è¡Œpush(),front(), pop()
</span></span><span style="display:flex;"><span>priority_queueï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †ï¼Œpush(), top(), pop()
</span></span><span style="display:flex;"><span>stack æ ˆï¼ŒPush(), top(), pop()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>deque åŒç«¯é˜Ÿåˆ—
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>set, map, multiset, multimap åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰åŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—
</span></span><span style="display:flex;"><span>unordered_set, unordered_map, unordered_multiset, unordered_multimap å“ˆå¸Œè¡¨
</span></span><span style="display:flex;"><span>bitset;å‹ä½
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>listç”¨çš„ä¸å¤šã€‚
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="vector">vector:<a hidden class="anchor" aria-hidden="true" href="#vector">#</a></h2>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">37
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#719e07">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#719e07"></span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">using</span> <span style="color:#719e07">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span> a(<span style="color:#2aa198">10</span>, <span style="color:#2aa198">3</span>);
</span></span><span style="display:flex;"><span>    vector<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span> b[<span style="color:#2aa198">10</span>]; <span style="color:#586e75">//å®šä¹‰æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#586e75">//å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º10çš„ï¼Œåˆå§‹å€¼ä¸º3çš„vector
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#586e75">//for(auto x : a) cout &lt;&lt; x &lt;&lt; endl;
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    
</span></span><span style="display:flex;"><span>    a.size(); <span style="color:#586e75">//O(1)
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    a.empty(); 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    a.clear();<span style="color:#586e75">//æ¸…ç©º
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>    <span style="color:#586e75">/*ç³»ç»Ÿåˆ†é…ç©ºé—´æ—¶ï¼Œæ‰€éœ€æ—¶é—´ä¸ç©ºé—´å¤§å°æ— å…³ï¼Œä¸ç”³è¯·æ¬¡æ•°æœ‰å…³ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    æ‰€ä»¥å°½é‡å‡å°‘ç”³è¯·ç©ºé—´çš„æ¬¡æ•°ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    vectoræœ€åˆåˆ†é…32çš„ç©ºé—´ï¼Œç„¶åå¦‚æœä¸å¤Ÿï¼Œåˆ†é…64ï¼Œç„¶åcopyè¿‡å»ä¹‹å‰çš„å…ƒç´ ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    ç”³è¯·é•¿åº¦ä¸º2 ^ nçš„æ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦copy(1 + 2 + 2^n-1) = 2^nå¯ä»¥è®¤ä¸ºæ˜¯O(1)
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    ç”³è¯·ç©ºé—´çš„æ¬¡æ•°æ˜¯log(2^n) = n
</span></span></span><span style="display:flex;"><span><span style="color:#586e75">    */</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    a.front();
</span></span><span style="display:flex;"><span>    a.back();
</span></span><span style="display:flex;"><span>    a.push_back();
</span></span><span style="display:flex;"><span>    a.pop_back();
</span></span><span style="display:flex;"><span>    begin();
</span></span><span style="display:flex;"><span>    end();
</span></span><span style="display:flex;"><span>    [];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>		a <span style="color:#719e07">&lt;</span> bå¯ä»¥åˆ¤æ–­ä¸¤ä¸ªvectorçš„å¤§å°ï¼ŒæŒ‰å­—å…¸åºæ¯”ã€‚
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ä¸‹é¢æ˜¯æ¨¡æ¿">ä¸‹é¢æ˜¯æ¨¡æ¿<a hidden class="anchor" aria-hidden="true" href="#ä¸‹é¢æ˜¯æ¨¡æ¿">#</a></h2>
<div class="highlight"><div style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">124
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>C<span style="color:#719e07">++</span> STLç®€ä»‹
</span></span><span style="display:flex;"><span>vector, å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³
</span></span><span style="display:flex;"><span>    size()  è¿”å›å…ƒç´ ä¸ªæ•°
</span></span><span style="display:flex;"><span>    empty()  è¿”å›æ˜¯å¦ä¸ºç©º
</span></span><span style="display:flex;"><span>    clear()  æ¸…ç©º
</span></span><span style="display:flex;"><span>    front()<span style="color:#719e07">/</span>back()
</span></span><span style="display:flex;"><span>    push_back()<span style="color:#719e07">/</span>pop_back()
</span></span><span style="display:flex;"><span>    begin()<span style="color:#719e07">/</span>end()
</span></span><span style="display:flex;"><span>    []
</span></span><span style="display:flex;"><span>    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pair<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span>, <span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span>p;
</span></span><span style="display:flex;"><span>    first, ç¬¬ä¸€ä¸ªå…ƒç´ 
</span></span><span style="display:flex;"><span>    second, ç¬¬äºŒä¸ªå…ƒç´ 
</span></span><span style="display:flex;"><span>    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰
</span></span><span style="display:flex;"><span>		p <span style="color:#719e07">=</span> make_pair(<span style="color:#2aa198">10</span>, <span style="color:#2aa198">2</span>);
</span></span><span style="display:flex;"><span>		p <span style="color:#719e07">=</span> {<span style="color:#2aa198">10</span>, <span style="color:#2aa198">2</span>};
</span></span><span style="display:flex;"><span>		pair<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span>, pair<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span>, <span style="color:#dc322f">int</span><span style="color:#719e07">&gt;&gt;</span>p;å­˜ä¸‰ä¸ª
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>stringï¼Œå­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>    size()<span style="color:#719e07">/</span>length()  è¿”å›å­—ç¬¦ä¸²é•¿åº¦
</span></span><span style="display:flex;"><span>    empty()
</span></span><span style="display:flex;"><span>    clear()
</span></span><span style="display:flex;"><span>    substr(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦))  è¿”å›å­ä¸²
</span></span><span style="display:flex;"><span>    c_str()  è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€
</span></span><span style="display:flex;"><span>				ç”¨äºç”¨printfè¾“å‡º
</span></span><span style="display:flex;"><span>		æ”¯æŒåŠ è¿ç®—ï¼š
</span></span><span style="display:flex;"><span>				string a <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;1&#34;</span>;
</span></span><span style="display:flex;"><span>				a <span style="color:#719e07">+=</span> <span style="color:#2aa198">&#34;bcd&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>queue, é˜Ÿåˆ—
</span></span><span style="display:flex;"><span>    size()
</span></span><span style="display:flex;"><span>    empty()
</span></span><span style="display:flex;"><span>    push()  å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ 
</span></span><span style="display:flex;"><span>    front()  è¿”å›é˜Ÿå¤´å…ƒç´ 
</span></span><span style="display:flex;"><span>    back()  è¿”å›é˜Ÿå°¾å…ƒç´ 
</span></span><span style="display:flex;"><span>    pop()  å¼¹å‡ºé˜Ÿå¤´å…ƒç´ 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>priority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§é¡¶å †
</span></span><span style="display:flex;"><span>    size()
</span></span><span style="display:flex;"><span>    empty()
</span></span><span style="display:flex;"><span>    push()  æ’å…¥ä¸€ä¸ªå…ƒç´ 
</span></span><span style="display:flex;"><span>    top()  è¿”å›å †é¡¶å…ƒç´ 
</span></span><span style="display:flex;"><span>    pop()  å¼¹å‡ºå †é¡¶å…ƒç´ 
</span></span><span style="display:flex;"><span>    å®šä¹‰æˆå°é¡¶å †çš„æ–¹å¼ï¼š
</span></span><span style="display:flex;"><span>				priority_queue<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span>, vector<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span>, greater<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;&gt;</span> q;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		priority_queue<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span> heap;
</span></span><span style="display:flex;"><span>				å¯ä»¥é€šè¿‡æ’å…¥<span style="color:#719e07">-</span>xå®ç°å°é¡¶å †ã€‚
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>stack, æ ˆ
</span></span><span style="display:flex;"><span>    size()
</span></span><span style="display:flex;"><span>    empty()
</span></span><span style="display:flex;"><span>    push()  å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´ 
</span></span><span style="display:flex;"><span>    top()  è¿”å›æ ˆé¡¶å…ƒç´ 
</span></span><span style="display:flex;"><span>    pop()  å¼¹å‡ºæ ˆé¡¶å…ƒç´ 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>deque, åŒç«¯é˜Ÿåˆ—ï¼ŒåŠ å¼ºç‰ˆvectorï¼Œæ•ˆç‡ä½ï¼Œå°½é‡ä¸ç”¨
</span></span><span style="display:flex;"><span>    size()
</span></span><span style="display:flex;"><span>    empty()
</span></span><span style="display:flex;"><span>    clear()
</span></span><span style="display:flex;"><span>    front()<span style="color:#719e07">/</span>back()
</span></span><span style="display:flex;"><span>    push_back()<span style="color:#719e07">/</span>pop_back()
</span></span><span style="display:flex;"><span>    push_front()<span style="color:#719e07">/</span>pop_front()
</span></span><span style="display:flex;"><span>    begin()<span style="color:#719e07">/</span>end() è¿­ä»£å™¨
</span></span><span style="display:flex;"><span>    [] æ”¯æŒç›´æ¥ç´¢å¼•
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>set, map, multiset, multimap, åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—
</span></span><span style="display:flex;"><span>    size()
</span></span><span style="display:flex;"><span>    empty()
</span></span><span style="display:flex;"><span>    clear()
</span></span><span style="display:flex;"><span>    begin()<span style="color:#719e07">/</span>end()
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">++</span>, <span style="color:#719e07">--</span> è¿”å›å‰é©±å’Œåç»§ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    set<span style="color:#719e07">/</span>multiset
</span></span><span style="display:flex;"><span>				setä¸å…è®¸é‡å¤å…ƒç´ 
</span></span><span style="display:flex;"><span>        insert()  æ’å…¥ä¸€ä¸ªæ•°
</span></span><span style="display:flex;"><span>        find()  æŸ¥æ‰¾ä¸€ä¸ªæ•°ï¼Œè¿”å›è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›endè¿­ä»£å™¨
</span></span><span style="display:flex;"><span>        count()  è¿”å›æŸä¸€ä¸ªæ•°çš„ä¸ªæ•°
</span></span><span style="display:flex;"><span>        erase()
</span></span><span style="display:flex;"><span>            (<span style="color:#2aa198">1</span>) è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x   O(k <span style="color:#719e07">+</span> logn)
</span></span><span style="display:flex;"><span>            (<span style="color:#2aa198">2</span>) è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨
</span></span><span style="display:flex;"><span>        lower_bound()<span style="color:#719e07">/</span>upper_bound()
</span></span><span style="display:flex;"><span>            lower_bound(x)  è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨
</span></span><span style="display:flex;"><span>            upper_bound(x)  è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨
</span></span><span style="display:flex;"><span>    map<span style="color:#719e07">/</span>multimap
</span></span><span style="display:flex;"><span>        insert()  æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair
</span></span><span style="display:flex;"><span>        erase()  è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨
</span></span><span style="display:flex;"><span>        find()
</span></span><span style="display:flex;"><span>        []  æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)
</span></span><span style="display:flex;"><span>        lower_bound()<span style="color:#719e07">/</span>upper_bound()
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				map<span style="color:#719e07">&lt;</span>string ,<span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span> a;
</span></span><span style="display:flex;"><span>				a[<span style="color:#2aa198">&#34;yxc&#34;</span>] <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span>				cout <span style="color:#719e07">&lt;&lt;</span> a[<span style="color:#2aa198">&#34;yec&#34;</span>] <span style="color:#719e07">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>unordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨
</span></span><span style="display:flex;"><span>    å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(<span style="color:#2aa198">1</span>)
</span></span><span style="display:flex;"><span>    ä¸æ”¯æŒ lower_bound()<span style="color:#719e07">/</span>upper_bound()ï¼Œ è¿­ä»£å™¨çš„<span style="color:#719e07">++</span>ï¼Œ<span style="color:#719e07">--</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bitset, åœ§ä½
</span></span><span style="display:flex;"><span>		æ˜¯boolæ•°ç»„çš„1<span style="color:#719e07">/</span><span style="color:#2aa198">8</span>ã€‚ğŸ‚
</span></span><span style="display:flex;"><span>    bitset<span style="color:#719e07">&lt;</span><span style="color:#2aa198">10000</span><span style="color:#719e07">&gt;</span> s; 
</span></span><span style="display:flex;"><span>		<span style="color:#719e07">~</span>s;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">~</span>, <span style="color:#719e07">&amp;</span>, <span style="color:#719e07">|</span>, <span style="color:#719e07">^</span>
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">&gt;&gt;</span>, <span style="color:#719e07">&lt;&lt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">==</span>, <span style="color:#719e07">!=</span>
</span></span><span style="display:flex;"><span>    []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    count()  è¿”å›æœ‰å¤šå°‘ä¸ª<span style="color:#2aa198">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    any()  åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª<span style="color:#2aa198">1</span>
</span></span><span style="display:flex;"><span>    none()  åˆ¤æ–­æ˜¯å¦å…¨ä¸º<span style="color:#2aa198">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    set()  æŠŠæ‰€æœ‰ä½ç½®æˆ<span style="color:#2aa198">1</span>
</span></span><span style="display:flex;"><span>    set(k, v)  å°†ç¬¬kä½å˜æˆv
</span></span><span style="display:flex;"><span>    reset()  æŠŠæ‰€æœ‰ä½å˜æˆ<span style="color:#2aa198">0</span>
</span></span><span style="display:flex;"><span>    flip()  ç­‰ä»·äº<span style="color:#719e07">~</span>
</span></span><span style="display:flex;"><span>    flip(k) æŠŠç¬¬kä½å–å
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ä½œè€…ï¼šyxc
</span></span><span style="display:flex;"><span>é“¾æ¥ï¼šhttps:<span style="color:#586e75">//www.acwing.com/blog/content/404/
</span></span></span><span style="display:flex;"><span><span style="color:#586e75"></span>æ¥æºï¼šAcWing
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://imingx.github.io/tags/algorithm/">Algorithm</a></li>
    </ul>
  </footer><div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ming-ac" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://imingx.github.io/">Ming Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
